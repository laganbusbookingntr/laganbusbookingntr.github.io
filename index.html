<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>Lagan Bus Booking | Luxury Bus Travel Sri Lanka</title>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Playfair+Display:ital,wght@0,900;1,900&display=swap" rel="stylesheet">
<style>
/* ===================== PREMIUM VARIABLES ===================== */
:root {
  /* Enhanced color palette */
  --primary: #0b1f3a;
  --primary-dark: #061224;
  --primary-light: #1f3e72;
  --gold: #d8b35d;
  --gold-light: #f4dfaa;
  --gold-dark: #b89446;
  --primary-gradient: linear-gradient(135deg, #0b1f3a 0%, #1f3e72 100%);
  --gold-gradient: linear-gradient(135deg, #d8b35d 0%, #f0d58c 50%, #d8b35d 100%);
  --secondary: #0f766e;
  --secondary-dark: #115e59;
  --accent: #8b5cf6;
  --danger: #ef4444;
  --warning: #f59e0b;
  --light: #ffffff;
  --dark: #0b1220;
  --gray: #7a8598;
  --slate-900: #0b1f3a;
  --slate-950: #030915;
  
  /* Enhanced glass effects */
  --glass: rgba(255, 255, 255, 0.98);
  --glass-dark: rgba(7, 16, 32, 0.98);
  --glass-gold: rgba(216, 179, 93, 0.15);
  --glass-primary: rgba(11, 31, 58, 0.15);
  
  /* Enhanced shadows with depth */
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.08);
  --shadow-md: 0 8px 30px rgba(0, 0, 0, 0.12);
  --shadow-lg: 0 20px 50px rgba(0, 0, 0, 0.16);
  --shadow-xl: 0 32px 64px rgba(0, 0, 0, 0.2);
  --shadow-gold: 0 12px 40px rgba(216, 179, 93, 0.25);
  --shadow-blue: 0 16px 48px rgba(11, 31, 58, 0.3);
  --shadow-green: 0 16px 48px rgba(16, 185, 129, 0.25);
  
  /* Enhanced radii */
  --radius-sm: 12px;
  --radius-md: 18px;
  --radius-lg: 24px;
  --radius-xl: 32px;
  --radius-full: 9999px;
  
  /* Enhanced transitions */
  --transition-smooth: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-bounce: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
  
  /* Enhanced gradients */
  --gradient-primary: linear-gradient(135deg, #0b1f3a 0%, #1f3e72 100%);
  --gradient-success: linear-gradient(135deg, #0f766e 0%, #1f3e72 100%);
  --gradient-dark: linear-gradient(135deg, #0b1f3a 0%, #0f172a 100%);
  --gradient-light: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
  --gradient-glass: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%);
  --gradient-dark-glass: linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(15, 23, 42, 0.85) 100%);
  
  /* Typography scale */
  --text-xs: 0.75rem;
  --text-sm: 0.875rem;
  --text-base: 1rem;
  --text-lg: 1.125rem;
  --text-xl: 1.25rem;
  --text-2xl: 1.5rem;
  --text-3xl: 2rem;
  --text-4xl: 2.5rem;
  --text-5xl: 3rem;
  --text-6xl: 3.5rem;
  --text-7xl: 4rem;
  --text-8xl: 5rem;
  
  /* Light theme colors */
  --surface: #ffffff;
  --card: #ffffff;
  --text-primary: #0b1f3a;
  --text-secondary: #4a5568;
  --border: #e2e8f0;
  --icon-color: #d8b35d;
  --hover-bg: #f8fafc;
}

[data-theme="dark"] {
  --primary: #3b82f6;
  --primary-dark: #1d4ed8;
  --primary-light: #60a5fa;
  --gold: #d4af37;
  --light: #0f172a;
  --dark: #f1f5f9;
  --gray: #94a3b8;
  --glass: rgba(15, 23, 42, 0.98);
  --glass-dark: rgba(30, 41, 59, 0.98);
  --gradient-light: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
  --surface: #0f172a;
  --card: #1e293b;
  --text-primary: #f1f5f9;
  --text-secondary: #cbd5e1;
  --border: #334155;
  --icon-color: #d4af37;
  --hover-bg: rgba(255, 255, 255, 0.05);
}

/* ===================== SCROLLING YELLOW LINE ===================== */
.scrolling-line {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 4px;
  background: linear-gradient(90deg, 
    transparent 0%, 
    var(--gold) 20%, 
    #ffd700 50%, 
    var(--gold) 80%, 
    transparent 100%);
  z-index: 1001;
  animation: scrollLine 2s linear infinite;
  box-shadow: 0 0 30px var(--gold);
  filter: blur(0.5px);
}

@keyframes scrollLine {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

/* ===================== ENHANCED BASE STYLES ===================== */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
}

html {
  font-size: 16px;
  scroll-behavior: smooth;
  -webkit-text-size-adjust: 100%;
}

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  background: var(--surface);
  color: var(--text-primary);
  min-height: 100vh;
  overflow-x: hidden;
  opacity: 0;
  animation: pageFadeIn 0.8s ease-out forwards;
  font-weight: 400;
  line-height: 1.7;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  touch-action: manipulation;
  letter-spacing: -0.01em;
}

@keyframes pageFadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.font-display {
  font-family: 'Playfair Display', serif;
  font-feature-settings: "kern" 1, "liga" 1, "dlig" 1;
}

/* ===================== ENHANCED WELCOME OVERLAY ===================== */
.welcome-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, var(--slate-950) 0%, var(--slate-900) 100%);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  animation: welcomeFadeOut 0.6s cubic-bezier(0.4, 0, 0.2, 1) 1s forwards;
  backdrop-filter: blur(10px);
}

@keyframes welcomeFadeOut {
  0% { opacity: 1; transform: scale(1); }
  100% { opacity: 0; transform: scale(1.02); visibility: hidden; }
}

.welcome-logo {
  width: 160px;
  height: 160px;
  background: var(--gold-gradient);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 40px;
  animation: logoPulse 2s ease-in-out infinite;
  position: relative;
  overflow: hidden;
  box-shadow: 
    0 20px 60px rgba(212, 175, 55, 0.4),
    0 0 0 1px rgba(255, 255, 255, 0.1),
    inset 0 0 30px rgba(255, 255, 255, 0.3);
}

.welcome-logo::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.3) 50%, transparent 70%);
  animation: shine 3s linear infinite;
}

@keyframes shine {
  0% { transform: translateX(-100%) translateY(-100%) rotate(0deg); }
  100% { transform: translateX(100%) translateY(100%) rotate(360deg); }
}

@keyframes logoPulse {
  0%, 100% { 
    transform: scale(1) rotate(0deg);
    box-shadow: 
      0 20px 60px rgba(212, 175, 55, 0.4),
      0 0 0 1px rgba(255, 255, 255, 0.1);
  }
  50% { 
    transform: scale(1.08) rotate(5deg);
    box-shadow: 
      0 30px 80px rgba(212, 175, 55, 0.6),
      0 0 0 1px rgba(255, 255, 255, 0.2);
  }
}

.welcome-logo i {
  font-size: 64px;
  color: var(--slate-900);
  animation: logoFloat 3s ease-in-out infinite;
  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
}

@keyframes logoFloat {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  25% { transform: translateY(-15px) rotate(-5deg); }
  75% { transform: translateY(10px) rotate(5deg); }
}

.welcome-text {
  text-align: center;
  animation: textSlideUp 1s cubic-bezier(0.34, 1.56, 0.64, 1) 0.3s both;
}

@keyframes textSlideUp {
  from { 
    opacity: 0; 
    transform: translateY(30px) perspective(1000px) rotateX(10deg);
    filter: blur(5px);
  }
  to { 
    opacity: 1; 
    transform: translateY(0) perspective(1000px) rotateX(0deg);
    filter: blur(0);
  }
}

.welcome-title {
  font-size: var(--text-7xl);
  font-weight: 900;
  color: white;
  margin-bottom: 20px;
  background: linear-gradient(135deg, #ffffff 0%, #e0f2fe 50%, #ffffff 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  background-size: 200% auto;
  animation: titleShimmer 3s ease-in-out infinite;
  letter-spacing: -0.03em;
}

@keyframes titleShimmer {
  0%, 100% { background-position: 0% center; }
  50% { background-position: 100% center; }
}

.welcome-subtitle {
  font-size: var(--text-xl);
  color: rgba(255, 255, 255, 0.95);
  font-weight: 500;
  max-width: 400px;
  margin: 0 auto;
  line-height: 1.6;
}

/* ===================== ENHANCED ADMIN CONTACT BADGE ===================== */
.admin-contact-badge {
  display: inline-flex;
  align-items: center;
  gap: 1rem;
  padding: 1.25rem 2.5rem;
  background: rgba(255, 255, 255, 0.12);
  backdrop-filter: blur(24px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: var(--radius-full);
  color: white;
  font-size: var(--text-lg);
  font-weight: 700;
  margin: 2rem 0;
  transition: var(--transition-bounce);
  cursor: pointer;
  text-decoration: none;
  border: none;
  outline: none;
  min-width: 280px;
  justify-content: center;
  position: relative;
  overflow: hidden;
}

.admin-contact-badge::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--gold-gradient);
  opacity: 0;
  transition: opacity 0.4s ease;
  z-index: -1;
  border-radius: inherit;
}

.admin-contact-badge:hover {
  background: rgba(216, 179, 93, 0.25);
  transform: translateY(-4px);
  box-shadow: 
    var(--shadow-gold),
    0 0 40px rgba(216, 179, 93, 0.2);
  animation: none;
}

.admin-contact-badge:hover::before {
  opacity: 0.1;
}

.admin-contact-badge i {
  color: var(--gold);
  font-size: 1.25rem;
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.admin-contact-badge:hover i {
  transform: scale(1.2) rotate(12deg);
}

/* ===================== ENHANCED ELITE NAVIGATION ===================== */
.elite-nav {
  position: fixed;
  top: 4px;
  left: 0;
  right: 0;
  z-index: 1000;
  padding: 1.5rem 3rem;
  transition: var(--transition-smooth);
  background: transparent;
  backdrop-filter: blur(16px) saturate(180%);
  border-bottom: 1px solid transparent;
}

.elite-nav.scrolled {
  background: rgba(11, 31, 58, 0.92);
  backdrop-filter: blur(32px) saturate(180%);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 
    var(--shadow-lg),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
  padding: 1rem 3rem;
}

.dark .elite-nav.scrolled {
  background: rgba(15, 23, 42, 0.92);
}

.nav-container {
  max-width: 1400px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: space-between;
  position: relative;
  gap: 2rem;
}

.nav-brand {
  display: flex;
  align-items: center;
  gap: 1.25rem;
  cursor: pointer;
  transition: var(--transition-bounce);
  position: relative;
}

.nav-brand:hover {
  transform: translateY(-2px);
}

.nav-logo {
  width: 56px;
  height: 56px;
  background: var(--gold-gradient);
  border-radius: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--slate-950);
  font-size: 1.75rem;
  box-shadow: 
    var(--shadow-gold),
    0 0 0 1px rgba(255, 255, 255, 0.1);
  transition: var(--transition-bounce);
  position: relative;
  overflow: hidden;
}

.nav-logo::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(45deg, transparent 40%, rgba(255, 255, 255, 0.3) 50%, transparent 60%);
  animation: navLogoShine 6s linear infinite;
  pointer-events: none;
}

@keyframes navLogoShine {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

.nav-brand:hover .nav-logo {
  transform: rotate(15deg) scale(1.1);
  box-shadow: 
    0 20px 60px rgba(216, 179, 93, 0.5),
    0 0 0 1px rgba(255, 255, 255, 0.2);
}

.nav-brand-text {
  font-size: var(--text-3xl);
  font-weight: 900;
  color: white;
  letter-spacing: -0.02em;
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
}

.nav-brand-text span {
  color: var(--gold);
  position: relative;
}

.nav-brand-text span::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  right: 0;
  height: 2px;
  background: var(--gold-gradient);
  border-radius: 1px;
  opacity: 0.8;
}

.nav-links {
  display: none;
  gap: 3.5rem;
  margin: 0 auto;
}

@media (min-width: 1024px) {
  .nav-links {
    display: flex;
  }
}

.nav-link {
  font-size: var(--text-sm);
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.3em;
  color: rgba(255, 255, 255, 0.9);
  text-decoration: none;
  transition: var(--transition-smooth);
  position: relative;
  padding: 0.5rem 0;
}

.nav-link::before {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 0;
  height: 2px;
  background: var(--gold-gradient);
  transition: width 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  border-radius: 1px;
}

.nav-link:hover {
  color: var(--gold);
}

.nav-link:hover::before {
  width: 100%;
}

.nav-actions {
  display: flex;
  align-items: center;
  gap: 1.5rem;
}

.theme-toggle-btn {
  width: 56px;
  height: 56px;
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: var(--radius-full);
  color: white;
  font-size: 1.5rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--transition-bounce);
  position: relative;
  overflow: hidden;
}

.theme-toggle-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--gold-gradient);
  opacity: 0;
  transition: opacity 0.3s ease;
  z-index: -1;
}

.theme-toggle-btn:hover {
  background: rgba(216, 179, 93, 0.2);
  transform: rotate(180deg) scale(1.1);
  border-color: var(--gold);
  box-shadow: 
    0 8px 32px rgba(216, 179, 93, 0.3),
    inset 0 0 20px rgba(255, 255, 255, 0.1);
}

.theme-toggle-btn:hover::before {
  opacity: 0.2;
}

.nav-book-btn {
  padding: 1.25rem 2.5rem;
  background: var(--gold-gradient);
  color: var(--slate-950);
  border: none;
  border-radius: var(--radius-full);
  font-size: var(--text-sm);
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.3em;
  cursor: pointer;
  transition: var(--transition-bounce);
  box-shadow: 
    var(--shadow-gold),
    0 0 0 1px rgba(255, 255, 255, 0.1);
  position: relative;
  overflow: hidden;
}

.nav-book-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  transition: left 0.8s ease;
}

.nav-book-btn:hover {
  background: linear-gradient(135deg, #e7c776 0%, #d0a848 50%, #e7c776 100%);
  transform: translateY(-4px);
  box-shadow: 
    0 20px 60px rgba(216, 179, 93, 0.5),
    0 0 0 1px rgba(255, 255, 255, 0.2);
}

.nav-book-btn:hover::before {
  left: 100%;
}

/* Mobile Menu Button */
.mobile-menu-btn {
  display: none;
  align-items: center;
  justify-content: center;
  width: 56px;
  height: 56px;
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: var(--radius-md);
  color: white;
  font-size: 1.5rem;
  cursor: pointer;
  transition: var(--transition-smooth);
  z-index: 1001;
}

.mobile-menu-btn:hover {
  background: rgba(216, 179, 93, 0.2);
  border-color: var(--gold);
  transform: rotate(90deg);
}

/* ===================== ENHANCED ELITE HERO ===================== */
.elite-hero {
  position: relative;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  margin-bottom: 0;
  padding: 0;
  isolation: isolate;
}

.hero-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: 
    linear-gradient(rgba(11, 31, 58, 0.92), rgba(11, 31, 58, 0.96)),
    url('https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80&auto=enhance');
  background-size: cover;
  background-position: center 70%;
  background-attachment: fixed;
  z-index: -2;
  animation: enhancedBackground 45s ease-in-out infinite alternate;
  transform-origin: center;
  filter: contrast(1.1) brightness(1.1);
}

@keyframes enhancedBackground {
  0% { 
    transform: scale(1) rotate(0deg);
    filter: contrast(1.1) brightness(1.1) hue-rotate(0deg);
  }
  25% {
    transform: scale(1.06) rotate(0.2deg);
    filter: contrast(1.15) brightness(1.15) hue-rotate(5deg);
  }
  50% {
    transform: scale(1.04) rotate(-0.1deg);
    filter: contrast(1.12) brightness(1.12) hue-rotate(-2deg);
  }
  75% {
    transform: scale(1.08) rotate(0.1deg);
    filter: contrast(1.18) brightness(1.18) hue-rotate(3deg);
  }
  100% { 
    transform: scale(1.06) rotate(-0.2deg);
    filter: contrast(1.2) brightness(1.2) hue-rotate(-5deg);
  }
}

/* Enhanced ambient light effect */
.hero-background::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: 
    radial-gradient(
      ellipse at 20% 20%,
      rgba(255, 255, 255, 0.25) 0%,
      rgba(255, 255, 255, 0.15) 20%,
      rgba(0, 0, 0, 0) 50%
    ),
    radial-gradient(
      ellipse at 80% 80%,
      rgba(216, 179, 93, 0.2) 0%,
      rgba(216, 179, 93, 0.1) 25%,
      rgba(0, 0, 0, 0) 60%
    ),
    radial-gradient(
      ellipse at 50% 50%,
      rgba(255, 255, 255, 0.15) 0%,
      rgba(255, 255, 255, 0.08) 30%,
      rgba(0, 0, 0, 0) 70%
    );
  animation: ambientLights 20s ease-in-out infinite alternate;
  pointer-events: none;
  mix-blend-mode: soft-light;
  z-index: 1;
}

@keyframes ambientLights {
  0% { 
    opacity: 0.3;
    transform: translateX(0) translateY(0) scale(1);
  }
  33% {
    opacity: 0.5;
    transform: translateX(-5%) translateY(3%) scale(1.1);
  }
  66% {
    opacity: 0.7;
    transform: translateX(3%) translateY(-2%) scale(0.95);
  }
  100% { 
    opacity: 0.4;
    transform: translateX(4%) translateY(4%) scale(1.05);
  }
}

/* Light beams animation */
.hero-background::before {
  content: '';
  position: absolute;
  top: -100%;
  left: -100%;
  width: 300%;
  height: 300%;
  background: linear-gradient(
    45deg,
    transparent 40%,
    rgba(255, 255, 255, 0.08) 50%,
    transparent 60%
  );
  animation: lightBeams 25s linear infinite;
  pointer-events: none;
  z-index: 1;
  opacity: 0.6;
}

@keyframes lightBeams {
  0% { transform: rotate(0deg) translateX(-50%); }
  100% { transform: rotate(360deg) translateX(-50%); }
}

/* Floating particles effect */
.particles {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
}

.particle {
  position: absolute;
  background: rgba(255, 255, 255, 0.15);
  border-radius: 50%;
  animation: floatParticle var(--duration) linear infinite;
  box-shadow: 
    0 0 20px rgba(255, 255, 255, 0.3),
    inset 0 0 10px rgba(255, 255, 255, 0.2);
}

@keyframes floatParticle {
  0% {
    transform: translateY(120vh) translateX(0) scale(0.3) rotate(0deg);
    opacity: 0;
  }
  10% {
    opacity: 0.8;
  }
  90% {
    opacity: 0.8;
  }
  100% {
    transform: translateY(-100px) translateX(var(--x-end)) scale(1) rotate(360deg);
    opacity: 0;
  }
}

.hero-content {
  position: relative;
  z-index: 3;
  max-width: 1400px;
  margin: 0 auto;
  padding: 3rem;
  text-align: center;
  color: white;
  animation: headerSlideUp 1s cubic-bezier(0.34, 1.56, 0.64, 1) 0.3s both;
}

@keyframes headerSlideUp {
  from { 
    opacity: 0; 
    transform: translateY(40px) perspective(1000px) rotateX(15deg);
    filter: blur(10px);
  }
  to { 
    opacity: 1; 
    transform: translateY(0) perspective(1000px) rotateX(0deg);
    filter: blur(0);
  }
}

.hero-badge {
  display: inline-flex;
  align-items: center;
  gap: 1rem;
  padding: 1rem 2rem;
  background: rgba(255, 255, 255, 0.12);
  backdrop-filter: blur(32px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: var(--radius-full);
  color: white;
  font-size: var(--text-sm);
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.4em;
  margin-bottom: 3rem;
  animation: badgeGlow 3s ease-in-out infinite alternate;
  position: relative;
  overflow: hidden;
}

.hero-badge::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--gold-gradient);
  opacity: 0.1;
  animation: badgeShimmer 4s linear infinite;
}

@keyframes badgeGlow {
  0% { 
    box-shadow: 
      0 8px 32px rgba(255, 255, 255, 0.1),
      inset 0 0 20px rgba(255, 255, 255, 0.05);
  }
  100% { 
    box-shadow: 
      0 16px 48px rgba(216, 179, 93, 0.4),
      inset 0 0 30px rgba(255, 255, 255, 0.1);
  }
}

@keyframes badgeShimmer {
  0% { transform: translateX(-100%) skewX(-15deg); }
  100% { transform: translateX(100%) skewX(-15deg); }
}

.hero-badge i {
  color: var(--gold);
  font-size: 1.25rem;
  animation: badgeIconFloat 2s ease-in-out infinite alternate;
}

@keyframes badgeIconFloat {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  50% { transform: translateY(-5px) rotate(10deg); }
}

.hero-title {
  font-size: var(--text-8xl);
  font-family: 'Playfair Display', serif;
  font-weight: 900;
  font-style: italic;
  color: white;
  margin-bottom: 1.5rem;
  line-height: 0.95;
  text-shadow: 
    0 4px 20px rgba(0, 0, 0, 0.4),
    0 8px 40px rgba(0, 0, 0, 0.2);
  animation: titleShine 4s ease-in-out infinite alternate;
  letter-spacing: -0.03em;
}

@media (min-width: 768px) {
  .hero-title {
    font-size: 5.5rem;
  }
}

@media (min-width: 1024px) {
  .hero-title {
    font-size: 6.5rem;
  }
}

@keyframes titleShine {
  0% { 
    text-shadow: 
      0 4px 20px rgba(0, 0, 0, 0.4),
      0 8px 40px rgba(0, 0, 0, 0.2);
  }
  100% { 
    text-shadow: 
      0 0 40px rgba(255, 255, 255, 0.4),
      0 4px 20px rgba(0, 0, 0, 0.4),
      0 8px 40px rgba(0, 0, 0, 0.2);
  }
}

.hero-title span {
  font-style: normal;
  color: transparent;
  text-shadow: none;
  background: linear-gradient(135deg, #d8b35d 0%, #f4dfaa 30%, #ffedc2 50%, #f4dfaa 70%, #d8b35d 100%);
  -webkit-background-clip: text;
  background-clip: text;
  background-size: 200% auto;
  animation: goldShimmer 3s ease-in-out infinite;
  position: relative;
  display: inline-block;
}

.hero-title span::after {
  content: '';
  position: absolute;
  bottom: -4px;
  left: 0;
  right: 0;
  height: 3px;
  background: var(--gold-gradient);
  border-radius: 2px;
  opacity: 0.8;
  filter: blur(1px);
}

@keyframes goldShimmer {
  0%, 100% { background-position: 0% center; }
  50% { background-position: 100% center; }
}

.hero-subtitle {
  font-size: var(--text-2xl);
  color: rgba(255, 255, 255, 0.95);
  max-width: 48rem;
  margin: 0 auto 2rem;
  line-height: 1.7;
  font-weight: 400;
  text-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
  animation: subtitleFade 1.2s cubic-bezier(0.34, 1.56, 0.64, 1) 0.6s both;
  letter-spacing: -0.01em;
}

@keyframes subtitleFade {
  from { 
    opacity: 0; 
    transform: translateY(15px) scale(0.98);
    filter: blur(5px);
  }
  to { 
    opacity: 1; 
    transform: translateY(0) scale(1);
    filter: blur(0);
  }
}

/* ===================== ENHANCED HERO ACTIONS ===================== */
.hero-actions {
  display: flex;
  flex-direction: row;
  gap: 1.5rem;
  justify-content: center;
  align-items: center;
  flex-wrap: wrap;
  margin-top: 3rem;
  animation: actionsFade 1s cubic-bezier(0.34, 1.56, 0.64, 1) 0.8s both;
}

@keyframes actionsFade {
  from { 
    opacity: 0; 
    transform: translateY(20px) scale(0.95);
  }
  to { 
    opacity: 1; 
    transform: translateY(0) scale(1);
  }
}

@media (max-width: 768px) {
  .hero-actions {
    flex-direction: column;
    gap: 1.25rem;
    width: 100%;
    max-width: 400px;
    margin: 3rem auto 0;
  }
}

.hero-primary-btn {
  display: inline-flex;
  align-items: center;
  gap: 1.25rem;
  padding: 1.25rem 2.5rem;
  background: rgba(255, 255, 255, 0.12);
  backdrop-filter: blur(32px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: var(--radius-full);
  color: white;
  font-size: var(--text-lg);
  font-weight: 700;
  cursor: pointer;
  transition: var(--transition-bounce);
  text-decoration: none;
  position: relative;
  overflow: hidden;
  border: none;
  outline: none;
  min-width: 280px;
  justify-content: center;
  animation: buttonPulse 3s ease-in-out infinite alternate;
  z-index: 1;
}

.hero-primary-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--gold-gradient);
  opacity: 0;
  transition: opacity 0.4s ease;
  z-index: -1;
  border-radius: inherit;
}

.hero-primary-btn::after {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background: var(--gold-gradient);
  border-radius: inherit;
  z-index: -2;
  opacity: 0;
  filter: blur(10px);
  transition: opacity 0.4s ease;
}

@keyframes buttonPulse {
  0%, 100% { 
    box-shadow: 
      0 8px 32px rgba(216, 179, 93, 0.15),
      inset 0 0 20px rgba(255, 255, 255, 0.05);
  }
  50% { 
    box-shadow: 
      0 16px 48px rgba(216, 179, 93, 0.3),
      inset 0 0 30px rgba(255, 255, 255, 0.1);
  }
}

.hero-primary-btn:hover {
  background: rgba(216, 179, 93, 0.25);
  transform: translateY(-4px) scale(1.02);
  box-shadow: 
    var(--shadow-gold),
    0 0 50px rgba(216, 179, 93, 0.3);
  animation: none;
}

.hero-primary-btn:hover::before {
  opacity: 0.2;
}

.hero-primary-btn:hover::after {
  opacity: 0.4;
}

.hero-primary-btn:hover i {
  transform: translateX(8px) scale(1.2);
}

.hero-primary-btn i {
  color: var(--gold);
  font-size: 1.25rem;
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.scroll-indicator {
  position: absolute;
  bottom: 3rem;
  left: 50%;
  transform: translateX(-50%);
  animation: bounce 2.5s infinite cubic-bezier(0.34, 1.56, 0.64, 1);
  color: var(--gold);
  font-size: 1.5rem;
  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
}

@keyframes bounce {
  0%, 100% { 
    transform: translateX(-50%) translateY(0) scale(1);
    opacity: 0.8;
  }
  25% { 
    transform: translateX(-50%) translateY(-15px) scale(1.1);
    opacity: 1;
  }
  50% { 
    transform: translateX(-50%) translateY(0) scale(1);
    opacity: 0.8;
  }
  75% { 
    transform: translateX(-50%) translateY(-8px) scale(1.05);
    opacity: 0.9;
  }
}

/* ===================== ENHANCED SCROLL TO TOP BUTTON ===================== */
.scroll-to-top {
  position: fixed;
  bottom: 120px;
  right: 3rem;
  width: 64px;
  height: 64px;
  background: var(--gold-gradient);
  border: none;
  border-radius: var(--radius-full);
  color: var(--slate-950);
  font-size: 1.5rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 998;
  opacity: 0;
  transform: translateY(30px) scale(0.9);
  transition: var(--transition-bounce);
  box-shadow: 
    var(--shadow-gold),
    0 0 0 1px rgba(255, 255, 255, 0.1),
    inset 0 0 20px rgba(255, 255, 255, 0.3);
  animation: scrollButtonGlow 3s ease-in-out infinite alternate;
  backdrop-filter: blur(10px);
}

@keyframes scrollButtonGlow {
  0% { 
    box-shadow: 
      0 12px 40px rgba(216, 179, 93, 0.5),
      0 0 0 1px rgba(255, 255, 255, 0.1),
      inset 0 0 20px rgba(255, 255, 255, 0.3);
  }
  100% { 
    box-shadow: 
      0 20px 60px rgba(216, 179, 93, 0.7),
      0 0 0 1px rgba(255, 255, 255, 0.2),
      inset 0 0 30px rgba(255, 255, 255, 0.4);
  }
}

.scroll-to-top.visible {
  opacity: 1;
  transform: translateY(0) scale(1);
}

.scroll-to-top:hover {
  transform: translateY(-8px) scale(1.15);
  animation: none;
  box-shadow: 
    0 24px 72px rgba(216, 179, 93, 0.8),
    0 0 0 1px rgba(255, 255, 255, 0.3),
    inset 0 0 40px rgba(255, 255, 255, 0.5);
}

.scroll-to-top i {
  color: var(--slate-950);
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.scroll-to-top:hover i {
  transform: translateY(-4px);
}

/* ===================== ENHANCED SUPPORT PANEL ===================== */
.support-panel {
  position: fixed;
  top: 50%;
  right: 0;
  transform: translateY(-50%) translateX(100%);
  background: var(--glass);
  backdrop-filter: blur(32px) saturate(180%);
  border: 1px solid var(--border);
  border-radius: var(--radius-xl) 0 0 var(--radius-xl);
  padding: 2rem;
  width: 360px;
  box-shadow: 
    var(--shadow-xl),
    inset 0 0 0 1px rgba(255, 255, 255, 0.1);
  z-index: 997;
  transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.dark .support-panel {
  background: var(--glass-dark);
}

.support-panel.open {
  transform: translateY(-50%) translateX(0);
}

.support-toggle {
  position: absolute;
  left: -48px;
  top: 50%;
  transform: translateY(-50%);
  background: var(--primary);
  color: white;
  border: none;
  border-radius: var(--radius-md) 0 0 var(--radius-md);
  width: 48px;
  height: 96px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  box-shadow: 
    -6px 0 24px rgba(0, 0, 0, 0.2),
    inset 0 0 20px rgba(255, 255, 255, 0.1);
  transition: var(--transition-smooth);
}

.support-toggle:hover {
  background: var(--primary-dark);
  transform: translateY(-50%) scale(1.05);
  box-shadow: 
    -8px 0 32px rgba(0, 0, 0, 0.3),
    inset 0 0 30px rgba(255, 255, 255, 0.15);
}

.support-content {
  margin-top: 1.5rem;
}

.support-item {
  display: flex;
  align-items: center;
  gap: 1.25rem;
  padding: 1.25rem;
  background: rgba(216, 179, 93, 0.08);
  border: 1px solid rgba(216, 179, 93, 0.15);
  border-radius: var(--radius-lg);
  margin-bottom: 1rem;
  transition: var(--transition-bounce);
}

.support-item:hover {
  background: rgba(216, 179, 93, 0.15);
  transform: translateX(4px);
  box-shadow: 
    0 8px 24px rgba(216, 179, 93, 0.15),
    inset 0 0 20px rgba(255, 255, 255, 0.05);
}

.support-item i {
  color: var(--gold);
  font-size: 1.5rem;
  min-width: 32px;
  text-align: center;
}

.support-info h4 {
  font-size: var(--text-base);
  font-weight: 800;
  color: var(--text-primary);
  margin-bottom: 0.25rem;
  letter-spacing: -0.01em;
}

.support-info p {
  font-size: var(--text-sm);
  color: var(--text-secondary);
  line-height: 1.5;
}

/* ===================== ENHANCED BOOKING PORTAL ===================== */
.booking-portal {
  position: relative;
  max-width: 1400px;
  margin: 0 auto 8rem;
  padding: 0 3rem;
  animation: portalFloatIn 1s cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

@keyframes portalFloatIn {
  from { 
    opacity: 0; 
    transform: translateY(40px) perspective(1000px) rotateX(10deg);
  }
  to { 
    opacity: 1; 
    transform: translateY(0) perspective(1000px) rotateX(0deg);
  }
}

.portal-wrapper {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius-xl);
  box-shadow: 
    var(--shadow-xl),
    inset 0 0 0 1px rgba(255, 255, 255, 0.1);
  overflow: hidden;
  backdrop-filter: blur(20px);
}

.portal-tabs {
  display: flex;
  border-bottom: 1px solid var(--border);
  flex-direction: row;
  background: var(--hover-bg);
}

@media (max-width: 768px) {
  .portal-tabs {
    flex-direction: column;
  }
}

.portal-tab {
  flex: 1;
  padding: 3rem 4rem;
  display: flex;
  align-items: center;
  gap: 1.5rem;
  background: transparent;
  border: none;
  color: var(--text-secondary);
  cursor: pointer;
  transition: var(--transition-bounce);
  position: relative;
  overflow: hidden;
}

@media (max-width: 768px) {
  .portal-tab {
    padding: 2rem;
    flex-direction: column;
    text-align: center;
    gap: 1rem;
  }
}

.portal-tab::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--gold-gradient);
  opacity: 0;
  transition: opacity 0.3s ease;
  z-index: 1;
}

.portal-tab.active {
  background: var(--card);
  color: var(--primary);
}

.portal-tab.active::after {
  content: '';
  position: absolute;
  bottom: -1px;
  left: 50%;
  transform: translateX(-50%);
  width: 120px;
  height: 4px;
  background: var(--gold-gradient);
  border-radius: 2px;
  box-shadow: 0 4px 12px rgba(216, 179, 93, 0.3);
}

.portal-tab:hover:not(.active) {
  background: rgba(216, 179, 93, 0.08);
  transform: translateY(-2px);
}

.portal-tab:hover:not(.active)::before {
  opacity: 0.1;
}

.portal-tab i {
  font-size: 2.5rem;
  color: var(--icon-color);
  transition: var(--transition-bounce);
  position: relative;
  z-index: 2;
}

.portal-tab:hover i {
  transform: scale(1.2) rotate(5deg);
}

.tab-label {
  font-size: var(--text-xs);
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.3em;
  color: var(--gray);
  margin-bottom: 0.5rem;
  position: relative;
  z-index: 2;
}

.tab-title {
  font-size: var(--text-3xl);
  font-weight: 900;
  color: var(--text-primary);
  letter-spacing: -0.02em;
  position: relative;
  z-index: 2;
}

.portal-tab-content {
  display: none;
  padding: 4rem;
}

#newTab {
  display: block;
}

/* ===================== ENHANCED CHECK BOOKING TAB ===================== */
.check-booking-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 4rem;
}

@media (min-width: 992px) {
  .check-booking-grid {
    grid-template-columns: 1fr 1fr;
  }
}

.search-section {
  background: var(--card);
  padding: 3rem;
  border-radius: var(--radius-xl);
  border: 1px solid var(--border);
  box-shadow: 
    var(--shadow-lg),
    inset 0 0 0 1px rgba(255, 255, 255, 0.1);
  transition: var(--transition-bounce);
}

.search-section:hover {
  transform: translateY(-4px);
  box-shadow: 
    var(--shadow-xl),
    inset 0 0 0 1px rgba(255, 255, 255, 0.2);
  border-color: rgba(216, 179, 93, 0.3);
}

.search-header {
  display: flex;
  align-items: center;
  gap: 1.5rem;
  margin-bottom: 3rem;
}

.search-icon {
  width: 80px;
  height: 80px;
  background: var(--primary-gradient);
  border-radius: var(--radius-lg);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 2rem;
  box-shadow: 
    var(--shadow-blue),
    0 0 0 1px rgba(255, 255, 255, 0.1);
  transition: var(--transition-bounce);
}

.search-icon:hover {
  transform: scale(1.1) rotate(5deg);
  box-shadow: 
    0 20px 60px rgba(37, 99, 235, 0.4),
    0 0 0 1px rgba(255, 255, 255, 0.2);
}

.search-title {
  font-size: var(--text-3xl);
  font-weight: 900;
  color: var(--text-primary);
  letter-spacing: -0.02em;
}

.phone-input-wrapper {
  position: relative;
  margin-bottom: 2rem;
}

.phone-input {
  width: 100%;
  padding: 1.5rem 1.5rem 1.5rem 4.5rem;
  background: var(--card);
  border: 2px solid var(--border);
  border-radius: var(--radius-lg);
  font-size: var(--text-xl);
  font-weight: 600;
  color: var(--text-primary);
  transition: var(--transition-smooth);
  letter-spacing: -0.01em;
}

.phone-input:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 
    0 0 0 4px rgba(37, 99, 235, 0.15),
    inset 0 0 20px rgba(37, 99, 235, 0.05);
  transform: translateY(-2px);
}

.phone-input-icon {
  position: absolute;
  left: 1.5rem;
  top: 50%;
  transform: translateY(-50%);
  color: var(--primary);
  font-size: 1.5rem;
  transition: var(--transition-smooth);
}

.phone-input:focus + .phone-input-icon {
  color: var(--gold);
  transform: translateY(-50%) scale(1.2);
}

.search-btn {
  width: 100%;
  padding: 1.5rem;
  background: var(--primary-gradient);
  color: white;
  border: none;
  border-radius: var(--radius-lg);
  font-size: var(--text-xl);
  font-weight: 900;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  transition: var(--transition-bounce);
  box-shadow: 
    var(--shadow-blue),
    0 0 0 1px rgba(255, 255, 255, 0.1);
  position: relative;
  overflow: hidden;
}

.search-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  transition: left 0.8s ease;
}

.search-btn i {
  color: white;
  font-size: 1.25rem;
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.search-btn:hover {
  transform: translateY(-4px);
  box-shadow: 
    0 20px 60px rgba(37, 99, 235, 0.4),
    0 0 0 1px rgba(255, 255, 255, 0.2);
}

.search-btn:hover::before {
  left: 100%;
}

.search-btn:hover i {
  transform: scale(1.2);
}

.results-section {
  background: var(--card);
  padding: 3rem;
  border-radius: var(--radius-xl);
  border: 1px solid var(--border);
  min-height: 500px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 
    var(--shadow-lg),
    inset 0 0 0 1px rgba(255, 255, 255, 0.1);
  transition: var(--transition-smooth);
}

.results-section:hover {
  border-color: rgba(216, 179, 93, 0.3);
}

.no-booking {
  text-align: center;
  opacity: 0.8;
  animation: noBookingFloat 3s ease-in-out infinite alternate;
}

@keyframes noBookingFloat {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

.no-booking i {
  font-size: 6rem;
  color: var(--primary);
  margin-bottom: 2rem;
  opacity: 0.5;
  filter: drop-shadow(0 8px 16px rgba(37, 99, 235, 0.2));
}

.no-booking h3 {
  font-size: var(--text-3xl);
  font-weight: 900;
  color: var(--text-primary);
  margin-bottom: 1.25rem;
  letter-spacing: -0.02em;
}

.no-booking p {
  color: var(--text-secondary);
  max-width: 400px;
  margin: 0 auto;
  line-height: 1.7;
  font-size: var(--text-lg);
}

.ticket-card {
  background: var(--card);
  border-radius: var(--radius-xl);
  overflow: hidden;
  box-shadow: 
    var(--shadow-xl),
    inset 0 0 0 1px rgba(255, 255, 255, 0.1);
  animation: cardReveal 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
  border: 1px solid var(--border);
  width: 100%;
}

@keyframes cardReveal {
  0% { 
    opacity: 0; 
    transform: perspective(1000px) rotateX(-20deg) scale(0.95) translateY(30px);
    filter: blur(10px);
  }
  100% { 
    opacity: 1; 
    transform: perspective(1000px) rotateX(0deg) scale(1) translateY(0);
    filter: blur(0);
  }
}

.ticket-header {
  background: var(--primary-gradient);
  color: white;
  padding: 3rem;
  text-align: center;
  position: relative;
  overflow: hidden;
}

.ticket-header::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(45deg, transparent 40%, rgba(255, 255, 255, 0.1) 50%, transparent 60%);
  animation: ticketShimmer 4s linear infinite;
}

.ticket-title {
  font-size: var(--text-3xl);
  font-weight: 900;
  margin-bottom: 0.75rem;
  letter-spacing: -0.02em;
  position: relative;
  z-index: 1;
}

.ticket-subtitle {
  opacity: 0.95;
  font-weight: 500;
  font-size: var(--text-lg);
  position: relative;
  z-index: 1;
}

.ticket-body {
  padding: 3rem;
}

.passenger-section {
  text-align: center;
  margin-bottom: 3rem;
  padding-bottom: 3rem;
  border-bottom: 2px dashed var(--border);
}

.passenger-avatar {
  width: 120px;
  height: 120px;
  background: var(--primary-gradient);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 3rem;
  margin: 0 auto 2rem;
  box-shadow: 
    var(--shadow-blue),
    0 0 0 3px var(--card);
  transition: var(--transition-bounce);
}

.passenger-avatar:hover {
  transform: scale(1.1) rotate(10deg);
  box-shadow: 
    0 20px 60px rgba(37, 99, 235, 0.4),
    0 0 0 3px var(--card);
}

.passenger-name {
  font-size: var(--text-4xl);
  font-weight: 900;
  color: var(--text-primary);
  margin-bottom: 1rem;
  letter-spacing: -0.02em;
}

.booking-id {
  color: var(--text-secondary);
  font-weight: 700;
  background: rgba(216, 179, 93, 0.12);
  padding: 0.75rem 1.5rem;
  border-radius: var(--radius-full);
  display: inline-block;
  border: 1px solid rgba(216, 179, 93, 0.2);
  transition: var(--transition-smooth);
}

.booking-id:hover {
  background: rgba(216, 179, 93, 0.2);
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(216, 179, 93, 0.2);
}

.details-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 2rem;
  margin-bottom: 3rem;
}

.detail-card {
  background: var(--card);
  padding: 2rem;
  border-radius: var(--radius-lg);
  border: 1px solid var(--border);
  transition: var(--transition-bounce);
  position: relative;
  overflow: hidden;
}

.detail-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--gold-gradient);
  opacity: 0;
  transition: opacity 0.3s ease;
  z-index: 1;
}

.detail-card:hover {
  transform: translateY(-8px);
  border-color: var(--primary);
  box-shadow: 
    var(--shadow-lg),
    0 0 0 1px rgba(37, 99, 235, 0.1);
}

.detail-card:hover::before {
  opacity: 0.05;
}

.detail-icon {
  width: 64px;
  height: 64px;
  background: rgba(216, 179, 93, 0.12);
  border-radius: var(--radius-md);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--icon-color);
  font-size: 1.75rem;
  margin-bottom: 1.5rem;
  transition: var(--transition-bounce);
  position: relative;
  z-index: 2;
}

.detail-card:hover .detail-icon {
  transform: scale(1.1) rotate(5deg);
  background: rgba(216, 179, 93, 0.2);
}

.detail-label {
  font-size: var(--text-sm);
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.2em;
  margin-bottom: 0.75rem;
  font-weight: 800;
  position: relative;
  z-index: 2;
}

.detail-value {
  font-size: var(--text-2xl);
  font-weight: 900;
  color: var(--text-primary);
  letter-spacing: -0.01em;
  position: relative;
  z-index: 2;
}

.detail-value.paid {
  color: var(--secondary);
}

.detail-value.pending {
  color: var(--warning);
}

.ticket-actions {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

@media (min-width: 640px) {
  .ticket-actions {
    flex-direction: row;
  }
}

.btn {
  padding: 1.25rem 2rem;
  border-radius: var(--radius-lg);
  border: none;
  font-size: var(--text-lg);
  font-weight: 800;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  transition: var(--transition-bounce);
  flex: 1;
  position: relative;
  overflow: hidden;
}

.btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  transition: left 0.8s ease;
}

.btn-primary {
  background: var(--gold-gradient);
  color: var(--slate-950);
  box-shadow: 
    var(--shadow-gold),
    0 0 0 1px rgba(255, 255, 255, 0.1);
}

.btn-primary:hover {
  transform: translateY(-4px);
  box-shadow: 
    0 20px 60px rgba(216, 179, 93, 0.5),
    0 0 0 1px rgba(255, 255, 255, 0.2);
}

.btn-primary:hover::before {
  left: 100%;
}

.btn-secondary {
  background: var(--card);
  color: var(--text-primary);
  border: 1px solid var(--border);
  box-shadow: var(--shadow-sm);
}

.btn-secondary:hover {
  background: var(--primary);
  color: white;
  border-color: var(--primary);
  transform: translateY(-4px);
  box-shadow: 
    var(--shadow-blue),
    0 0 0 1px rgba(255, 255, 255, 0.1);
}

.btn-secondary:hover::before {
  left: 100%;
}

/* ===================== ENHANCED NEW BOOKING TAB ===================== */
.new-booking-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 4rem;
}

@media (min-width: 992px) {
  .new-booking-grid {
    grid-template-columns: 1.2fr 0.8fr;
  }
}

.booking-form-section {
  background: var(--card);
  padding: 3rem;
  border-radius: var(--radius-xl);
  border: 1px solid var(--border);
  box-shadow: 
    var(--shadow-lg),
    inset 0 0 0 1px rgba(255, 255, 255, 0.1);
  transition: var(--transition-bounce);
}

.booking-form-section:hover {
  transform: translateY(-4px);
  box-shadow: 
    var(--shadow-xl),
    inset 0 0 0 1px rgba(255, 255, 255, 0.2);
  border-color: rgba(16, 185, 129, 0.3);
}

.form-header {
  display: flex;
  align-items: center;
  gap: 1.5rem;
  margin-bottom: 3rem;
}

.form-icon {
  width: 80px;
  height: 80px;
  background: var(--gradient-success);
  border-radius: var(--radius-lg);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 2rem;
  box-shadow: 
    var(--shadow-green),
    0 0 0 1px rgba(255, 255, 255, 0.1);
  transition: var(--transition-bounce);
}

.form-icon:hover {
  transform: scale(1.1) rotate(5deg);
  box-shadow: 
    0 20px 60px rgba(16, 185, 129, 0.4),
    0 0 0 1px rgba(255, 255, 255, 0.2);
}

.form-title {
  font-size: var(--text-3xl);
  font-weight: 900;
  color: var(--text-primary);
  letter-spacing: -0.02em;
}

.form-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.5rem;
  margin-bottom: 2rem;
}

@media (min-width: 768px) {
  .form-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

.form-group {
  position: relative;
}

.form-label {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  margin-bottom: 1rem;
  font-weight: 700;
  color: var(--text-primary);
  font-size: var(--text-lg);
  letter-spacing: -0.01em;
}

.form-label i {
  color: var(--icon-color);
  font-size: 1.25rem;
}

.form-input,
.form-select {
  width: 100%;
  padding: 1.5rem 1.5rem 1.5rem 4.5rem;
  background: var(--card);
  border: 2px solid var(--border);
  border-radius: var(--radius-lg);
  font-size: var(--text-xl);
  font-weight: 600;
  color: var(--text-primary);
  transition: var(--transition-smooth);
  appearance: none;
  letter-spacing: -0.01em;
}

.form-input:focus,
.form-select:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 
    0 0 0 4px rgba(37, 99, 235, 0.15),
    inset 0 0 20px rgba(37, 99, 235, 0.05);
  transform: translateY(-2px);
}

.form-select {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%232563eb' stroke-width='3'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 1.5rem center;
  background-size: 1.5rem;
}

.dark .form-select {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2394A3B8' stroke-width='3'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
}

.form-icon-left {
  position: absolute;
  left: 1.5rem;
  top: 50%;
  transform: translateY(-50%);
  color: var(--icon-color);
  font-size: 1.5rem;
  transition: var(--transition-smooth);
}

.form-input:focus + .form-icon-left,
.form-select:focus + .form-icon-left {
  color: var(--gold);
  transform: translateY(-50%) scale(1.2);
}

.total-cost-display {
  background: rgba(16, 185, 129, 0.08);
  padding: 2rem;
  border-radius: var(--radius-lg);
  border: 1px solid rgba(16, 185, 129, 0.15);
  margin-top: 2rem;
  backdrop-filter: blur(10px);
  transition: var(--transition-smooth);
}

.total-cost-display:hover {
  background: rgba(16, 185, 129, 0.12);
  border-color: rgba(16, 185, 129, 0.3);
  transform: translateY(-2px);
  box-shadow: 0 12px 32px rgba(16, 185, 129, 0.15);
}

.cost-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
  padding: 0.75rem 0;
  border-bottom: 1px solid rgba(16, 185, 129, 0.1);
}

.cost-row:last-child {
  border-bottom: none;
}

.cost-label {
  color: var(--text-primary);
  font-weight: 700;
  font-size: var(--text-lg);
}

.cost-value {
  color: var(--primary);
  font-weight: 800;
  font-size: var(--text-xl);
}

.cost-total {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: 1.25rem;
  border-top: 2px solid rgba(16, 185, 129, 0.2);
  margin-top: 1rem;
}

.total-label {
  color: var(--text-primary);
  font-weight: 900;
  font-size: var(--text-2xl);
}

.total-amount {
  color: var(--secondary);
  font-weight: 900;
  font-size: var(--text-3xl);
}

.bank-details-btn {
  width: 100%;
  padding: 1.5rem;
  background: rgba(37, 99, 235, 0.08);
  color: var(--primary);
  border: 1px solid rgba(37, 99, 235, 0.15);
  border-radius: var(--radius-lg);
  font-size: var(--text-xl);
  font-weight: 800;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  margin-top: 2rem;
  transition: var(--transition-bounce);
  position: relative;
  overflow: hidden;
}

.bank-details-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  transition: left 0.8s ease;
}

.bank-details-btn i {
  color: var(--icon-color);
  font-size: 1.25rem;
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.bank-details-btn:hover {
  background: rgba(37, 99, 235, 0.15);
  transform: translateY(-4px);
  box-shadow: 
    0 16px 48px rgba(37, 99, 235, 0.2),
    0 0 0 1px rgba(37, 99, 235, 0.2);
}

.bank-details-btn:hover::before {
  left: 100%;
}

.bank-details-btn:hover i {
  transform: scale(1.2) rotate(5deg);
}

.whatsapp-btn {
  width: 100%;
  padding: 1.5rem;
  background: linear-gradient(135deg, #25d366 0%, #128c7e 100%);
  color: white;
  border: none;
  border-radius: var(--radius-lg);
  font-size: var(--text-xl);
  font-weight: 900;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  margin-top: 2rem;
  transition: var(--transition-bounce);
  box-shadow: 
    0 12px 40px rgba(37, 211, 102, 0.25),
    0 0 0 1px rgba(255, 255, 255, 0.1);
  position: relative;
  overflow: hidden;
}

.whatsapp-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  transition: left 0.8s ease;
}

.whatsapp-btn i {
  color: white;
  font-size: 1.25rem;
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.whatsapp-btn:hover {
  transform: translateY(-4px);
  box-shadow: 
    0 20px 60px rgba(37, 211, 102, 0.4),
    0 0 0 1px rgba(255, 255, 255, 0.2);
}

.whatsapp-btn:hover::before {
  left: 100%;
}

.whatsapp-btn:hover i {
  transform: scale(1.2);
}

.instructions-section {
  background: 
    linear-gradient(rgba(15, 23, 42, 0.95), rgba(15, 23, 42, 0.98)),
    url('https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80');
  background-size: cover;
  background-position: center;
  padding: 3rem;
  border-radius: var(--radius-xl);
  border: 1px solid rgba(37, 99, 235, 0.2);
  backdrop-filter: blur(32px) saturate(180%);
  animation: background-zoom 40s ease-in-out infinite alternate;
  box-shadow: 
    var(--shadow-xl),
    inset 0 0 0 1px rgba(255, 255, 255, 0.1);
}

@keyframes background-zoom {
  0% { background-size: 100%; }
  100% { background-size: 120%; }
}

.instructions-header {
  display: flex;
  align-items: center;
  gap: 1.5rem;
  margin-bottom: 3rem;
}

.instructions-icon {
  width: 80px;
  height: 80px;
  background: var(--primary-gradient);
  border-radius: var(--radius-lg);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 2rem;
  box-shadow: 
    var(--shadow-blue),
    0 0 0 1px rgba(255, 255, 255, 0.1);
  transition: var(--transition-bounce);
}

.instructions-icon:hover {
  transform: scale(1.1) rotate(5deg);
  box-shadow: 
    0 20px 60px rgba(37, 99, 235, 0.4),
    0 0 0 1px rgba(255, 255, 255, 0.2);
}

.instructions-title {
  font-size: var(--text-3xl);
  font-weight: 900;
  color: white;
  letter-spacing: -0.02em;
}

.steps-list {
  display: flex;
  flex-direction: column;
  gap: 2rem;
  margin-bottom: 3rem;
}

.step-item {
  display: flex;
  gap: 1.5rem;
  align-items: flex-start;
  position: relative;
}

.step-item::before {
  content: '';
  position: absolute;
  left: 18px;
  top: 36px;
  bottom: -36px;
  width: 2px;
  background: rgba(255, 255, 255, 0.1);
  z-index: 1;
}

.step-item:last-child::before {
  display: none;
}

.step-number {
  width: 48px;
  height: 48px;
  min-width: 48px;
  background: var(--primary-gradient);
  color: white;
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 900;
  font-size: var(--text-xl);
  box-shadow: 
    var(--shadow-blue),
    0 0 0 1px rgba(255, 255, 255, 0.1);
  transition: var(--transition-bounce);
  position: relative;
  z-index: 2;
}

.step-item:hover .step-number {
  transform: scale(1.1) rotate(5deg);
  box-shadow: 
    0 16px 48px rgba(37, 99, 235, 0.4),
    0 0 0 1px rgba(255, 255, 255, 0.2);
}

.step-content {
  flex: 1;
  padding-top: 0.5rem;
  position: relative;
  z-index: 2;
}

.step-title {
  font-size: var(--text-xl);
  font-weight: 800;
  color: white;
  margin-bottom: 0.5rem;
  letter-spacing: -0.01em;
}

.step-description {
  font-size: var(--text-lg);
  color: rgba(255, 255, 255, 0.9);
  line-height: 1.7;
}

.highlight-step {
  background: rgba(16, 185, 129, 0.15);
  padding: 1.5rem;
  border-radius: var(--radius-lg);
  border: 1px solid rgba(16, 185, 129, 0.3);
  margin-top: 1rem;
  backdrop-filter: blur(10px);
  transition: var(--transition-smooth);
}

.highlight-step:hover {
  background: rgba(16, 185, 129, 0.2);
  transform: translateY(-2px);
  box-shadow: 0 12px 32px rgba(16, 185, 129, 0.2);
}

.highlight-step .step-title {
  color: #10b981;
}

.whatsapp-contact {
  background: rgba(37, 211, 102, 0.15);
  padding: 2rem;
  border-radius: var(--radius-lg);
  border: 1px solid rgba(37, 211, 102, 0.3);
  text-align: center;
  backdrop-filter: blur(20px);
  transition: var(--transition-bounce);
}

.whatsapp-contact:hover {
  background: rgba(37, 211, 102, 0.2);
  transform: translateY(-4px);
  box-shadow: 0 16px 48px rgba(37, 211, 102, 0.25);
}

.contact-title {
  font-size: var(--text-2xl);
  font-weight: 900;
  color: #25d366;
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  letter-spacing: -0.01em;
}

.contact-link {
  display: inline-flex;
  align-items: center;
  gap: 1rem;
  padding: 1.25rem 2.5rem;
  background: linear-gradient(135deg, #25d366 0%, #128c7e 100%);
  color: white;
  text-decoration: none;
  border-radius: var(--radius-lg);
  font-weight: 900;
  transition: var(--transition-bounce);
  box-shadow: 
    0 12px 40px rgba(37, 211, 102, 0.25),
    0 0 0 1px rgba(255, 255, 255, 0.1);
  position: relative;
  overflow: hidden;
}

.contact-link::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  transition: left 0.8s ease;
}

.contact-link i {
  font-size: 1.25rem;
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.contact-link:hover {
  transform: translateY(-4px);
  box-shadow: 
    0 20px 60px rgba(37, 211, 102, 0.4),
    0 0 0 1px rgba(255, 255, 255, 0.2);
}

.contact-link:hover::before {
  left: 100%;
}

.contact-link:hover i {
  transform: scale(1.2);
}

/* ===================== ENHANCED FEATURES SECTION ===================== */
.features-section {
  padding: 8rem 3rem;
  max-width: 1400px;
  margin: 0 auto;
  animation: featuresFloatIn 1s cubic-bezier(0.34, 1.56, 0.64, 1) 0.2s both;
}

@keyframes featuresFloatIn {
  from { 
    opacity: 0; 
    transform: translateY(60px) perspective(1000px) rotateX(15deg);
  }
  to { 
    opacity: 1; 
    transform: translateY(0) perspective(1000px) rotateX(0deg);
  }
}

.section-header {
  text-align: center;
  max-width: 64rem;
  margin: 0 auto 6rem;
}

.section-badge {
  font-size: var(--text-sm);
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.4em;
  color: var(--primary);
  margin-bottom: 1.5rem;
  display: inline-block;
  padding: 0.75rem 1.5rem;
  background: rgba(37, 99, 235, 0.08);
  border: 1px solid rgba(37, 99, 235, 0.15);
  border-radius: var(--radius-full);
  backdrop-filter: blur(10px);
  transition: var(--transition-smooth);
}

.section-badge:hover {
  background: rgba(37, 99, 235, 0.12);
  transform: translateY(-2px);
  box-shadow: 0 12px 32px rgba(37, 99, 235, 0.15);
}

.section-title {
  font-size: var(--text-7xl);
  font-weight: 900;
  color: var(--text-primary);
  margin-bottom: 2rem;
  line-height: 1.1;
  letter-spacing: -0.03em;
  background: linear-gradient(135deg, var(--text-primary) 0%, var(--primary-light) 100%);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

.section-divider {
  height: 6px;
  width: 120px;
  background: var(--gold-gradient);
  border-radius: 3px;
  margin: 0 auto;
  box-shadow: 0 4px 12px rgba(216, 179, 93, 0.3);
}

.features-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 3rem;
}

@media (min-width: 768px) {
  .features-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

.feature-card {
  background: var(--card);
  padding: 3.5rem;
  border-radius: var(--radius-xl);
  border: 1px solid var(--border);
  transition: var(--transition-bounce);
  position: relative;
  overflow: hidden;
  backdrop-filter: blur(20px);
}

.feature-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--gold-gradient);
  opacity: 0;
  transition: opacity 0.3s ease;
  z-index: 1;
}

.feature-card:hover {
  transform: translateY(-12px) scale(1.02);
  border-color: var(--primary);
  box-shadow: 
    var(--shadow-xl),
    0 0 0 1px rgba(37, 99, 235, 0.1);
}

.feature-card:hover::before {
  opacity: 0.05;
}

.feature-icon {
  width: 100px;
  height: 100px;
  background: var(--primary-gradient);
  border-radius: var(--radius-lg);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 2.5rem;
  margin-bottom: 2.5rem;
  box-shadow: 
    var(--shadow-blue),
    0 0 0 1px rgba(255, 255, 255, 0.1);
  transition: var(--transition-bounce);
  position: relative;
  z-index: 2;
}

.feature-card:hover .feature-icon {
  transform: scale(1.15) rotate(10deg);
  box-shadow: 
    0 24px 72px rgba(37, 99, 235, 0.4),
    0 0 0 1px rgba(255, 255, 255, 0.2);
}

.feature-title {
  font-size: var(--text-3xl);
  font-weight: 900;
  color: var(--text-primary);
  margin-bottom: 1.5rem;
  letter-spacing: -0.02em;
  position: relative;
  z-index: 2;
}

.feature-description {
  color: var(--text-secondary);
  line-height: 1.8;
  font-size: var(--text-lg);
  position: relative;
  z-index: 2;
}

/* ===================== ENHANCED ROUTES SECTION ===================== */
.routes-section {
  padding: 8rem 3rem;
  max-width: 1400px;
  margin: 0 auto;
  animation: routesFloatIn 1s cubic-bezier(0.34, 1.56, 0.64, 1) 0.4s both;
}

@keyframes routesFloatIn {
  from { 
    opacity: 0; 
    transform: translateY(80px) perspective(1000px) rotateX(20deg);
  }
  to { 
    opacity: 1; 
    transform: translateY(0) perspective(1000px) rotateX(0deg);
  }
}

.routes-container {
  margin-top: 4rem;
}

.route-group {
  margin-bottom: 6rem;
}

.route-group:last-child {
  margin-bottom: 0;
}

.route-group-title {
  font-size: var(--text-4xl);
  font-weight: 900;
  color: var(--text-primary);
  margin-bottom: 3rem;
  padding-bottom: 1.5rem;
  border-bottom: 2px solid var(--border);
  display: flex;
  align-items: center;
  gap: 1.5rem;
  letter-spacing: -0.02em;
}

.route-group-title i {
  color: var(--gold);
  font-size: 2rem;
}

.route-cards {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
  gap: 2.5rem;
  margin-top: 1.5rem;
}

@media (max-width: 768px) {
  .route-cards {
    grid-template-columns: 1fr;
    gap: 2rem;
  }
}

.route-card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius-xl);
  padding: 2.5rem;
  transition: var(--transition-bounce);
  position: relative;
  overflow: hidden;
  backdrop-filter: blur(20px);
}

.route-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--gold-gradient);
  opacity: 0;
  transition: opacity 0.3s ease;
  z-index: 1;
}

.route-card:hover {
  transform: translateY(-8px) scale(1.02);
  box-shadow: 
    var(--shadow-xl),
    0 0 0 1px rgba(37, 99, 235, 0.1);
  border-color: var(--primary);
}

.route-card:hover::before {
  opacity: 0.05;
}

.route-card.featured {
  border: 2px solid var(--gold);
  background: linear-gradient(135deg, var(--card) 0%, rgba(216, 179, 93, 0.08) 100%);
}

.featured-badge {
  position: absolute;
  top: -12px;
  right: 24px;
  background: var(--gold-gradient);
  color: var(--slate-950);
  padding: 8px 20px;
  border-radius: var(--radius-full);
  font-size: var(--text-sm);
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  box-shadow: 
    0 8px 32px rgba(216, 179, 93, 0.3),
    0 0 0 1px rgba(255, 255, 255, 0.1);
  display: flex;
  align-items: center;
  gap: 8px;
  z-index: 2;
}

.route-card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2rem;
  padding-bottom: 1.5rem;
  border-bottom: 1px solid var(--border);
  position: relative;
  z-index: 2;
}

.route-card-header h4 {
  font-size: var(--text-2xl);
  font-weight: 900;
  color: var(--text-primary);
  margin: 0;
  letter-spacing: -0.02em;
}

.route-price {
  font-size: var(--text-3xl);
  font-weight: 900;
  color: var(--primary);
  display: flex;
  align-items: baseline;
  letter-spacing: -0.02em;
}

.route-price span {
  font-size: var(--text-sm);
  color: var(--text-secondary);
  margin-left: 6px;
  font-weight: 600;
}

.route-details {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  position: relative;
  z-index: 2;
}

.route-stops {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  position: relative;
  padding-left: 32px;
}

.route-stops::before {
  content: '';
  position: absolute;
  left: 12px;
  top: 12px;
  bottom: 12px;
  width: 2px;
  background: var(--gold);
  border-radius: 1px;
  opacity: 0.5;
}

.route-stop {
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: var(--text-lg);
  color: var(--text-primary);
  position: relative;
  font-weight: 600;
}

.route-stop i {
  color: var(--gold);
  font-size: 1.25rem;
  width: 24px;
  text-align: center;
  z-index: 1;
}

.route-stop.start i {
  color: var(--secondary);
}

.route-stop.end i {
  color: var(--danger);
}

.route-stops-list {
  margin-left: 32px;
  padding: 1rem 0;
  display: flex;
  flex-wrap: wrap;
  gap: 0.75rem;
  max-height: 120px;
  overflow-y: auto;
}

.route-stops-list span {
  background: rgba(216, 179, 93, 0.12);
  color: var(--text-primary);
  padding: 0.5rem 1rem;
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  font-weight: 700;
  border: 1px solid rgba(216, 179, 93, 0.2);
  transition: var(--transition-smooth);
}

.route-stops-list span:hover {
  background: rgba(216, 179, 93, 0.2);
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(216, 179, 93, 0.15);
}

.route-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.75rem;
  margin-top: 0.75rem;
}

.route-tag {
  background: var(--primary-gradient);
  color: white;
  padding: 0.5rem 1.25rem;
  border-radius: var(--radius-full);
  font-size: var(--text-xs);
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  transition: var(--transition-smooth);
}

.route-tag:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(37, 99, 235, 0.3);
}

.route-highlight {
  display: flex;
  align-items: center;
  gap: 1rem;
  background: rgba(16, 185, 129, 0.12);
  color: var(--secondary);
  padding: 1rem 1.5rem;
  border-radius: var(--radius-lg);
  margin-top: 1rem;
  font-size: var(--text-base);
  font-weight: 700;
  border: 1px solid rgba(16, 185, 129, 0.2);
  transition: var(--transition-smooth);
}

.route-highlight:hover {
  background: rgba(16, 185, 129, 0.2);
  transform: translateY(-2px);
  box-shadow: 0 12px 32px rgba(16, 185, 129, 0.15);
}

.route-highlight i {
  color: var(--secondary);
  font-size: 1.25rem;
}

/* Route Map */
.route-map-container {
  margin-top: 6rem;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius-xl);
  padding: 3rem;
  box-shadow: 
    var(--shadow-xl),
    inset 0 0 0 1px rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(20px);
  transition: var(--transition-smooth);
}

.route-map-container:hover {
  transform: translateY(-4px);
  box-shadow: 
    var(--shadow-xl),
    inset 0 0 0 1px rgba(255, 255, 255, 0.2);
  border-color: rgba(216, 179, 93, 0.3);
}

.route-map-title {
  font-size: var(--text-3xl);
  font-weight: 900;
  color: var(--text-primary);
  margin-bottom: 3rem;
  display: flex;
  align-items: center;
  gap: 1.5rem;
  letter-spacing: -0.02em;
}

.route-map {
  overflow-x: auto;
  padding: 2rem 0;
  -webkit-overflow-scrolling: touch;
}

.map-timeline {
  display: flex;
  min-width: 1000px;
  align-items: center;
  justify-content: space-between;
  position: relative;
  padding: 3rem 0;
}

.map-timeline::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 0;
  right: 0;
  height: 6px;
  background: linear-gradient(90deg, var(--primary) 0%, var(--gold) 100%);
  border-radius: 3px;
  transform: translateY(-50%);
  z-index: 1;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
}

.map-stop {
  display: flex;
  flex-direction: column;
  align-items: center;
  position: relative;
  z-index: 2;
  min-width: 120px;
  transition: var(--transition-smooth);
}

.map-stop:hover {
  transform: translateY(-10px) scale(1.05);
}

.map-stop-dot {
  width: 28px;
  height: 28px;
  background: var(--gold);
  border-radius: 50%;
  border: 4px solid var(--card);
  margin-bottom: 1rem;
  box-shadow: 
    0 8px 24px rgba(216, 179, 93, 0.4),
    0 0 0 1px rgba(255, 255, 255, 0.1);
  transition: var(--transition-bounce);
}

.map-stop:hover .map-stop-dot {
  transform: scale(1.3);
  box-shadow: 
    0 16px 48px rgba(216, 179, 93, 0.6),
    0 0 0 1px rgba(255, 255, 255, 0.2);
}

.map-stop.start .map-stop-dot {
  background: var(--secondary);
}

.map-stop.end .map-stop-dot {
  background: var(--danger);
}

.map-stop.airport .map-stop-dot {
  background: var(--primary);
}

.map-stop-label {
  font-size: var(--text-base);
  font-weight: 900;
  color: var(--text-primary);
  margin-bottom: 0.5rem;
  text-align: center;
  letter-spacing: -0.01em;
}

.map-stop-cities {
  font-size: var(--text-sm);
  color: var(--text-secondary);
  text-align: center;
  max-width: 150px;
  line-height: 1.5;
}

.map-route-line {
  flex: 1;
  height: 3px;
  background: linear-gradient(90deg, var(--primary) 0%, var(--gold) 100%);
  opacity: 0.6;
}

.route-summary {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-top: 3rem;
}

.summary-card {
  background: rgba(216, 179, 93, 0.12);
  border: 1px solid rgba(216, 179, 93, 0.2);
  border-radius: var(--radius-lg);
  padding: 2rem;
  display: flex;
  align-items: center;
  gap: 1.5rem;
  transition: var(--transition-bounce);
}

.summary-card:hover {
  background: rgba(216, 179, 93, 0.2);
  transform: translateY(-4px);
  box-shadow: 
    0 16px 48px rgba(216, 179, 93, 0.15),
    0 0 0 1px rgba(216, 179, 93, 0.3);
}

.summary-card i {
  font-size: 2rem;
  color: var(--gold);
  transition: var(--transition-smooth);
}

.summary-card:hover i {
  transform: scale(1.2) rotate(5deg);
}

.summary-content h4 {
  font-size: var(--text-lg);
  font-weight: 900;
  color: var(--text-primary);
  margin-bottom: 0.5rem;
  letter-spacing: -0.01em;
}

.summary-content p {
  font-size: var(--text-base);
  color: var(--text-secondary);
  line-height: 1.6;
}

/* Scrollbar styling */
.route-stops-list::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.route-stops-list::-webkit-scrollbar-track {
  background: rgba(216, 179, 93, 0.1);
  border-radius: 3px;
}

.route-stops-list::-webkit-scrollbar-thumb {
  background: var(--gold);
  border-radius: 3px;
}

.route-stops-list::-webkit-scrollbar-thumb:hover {
  background: var(--gold-dark);
}

/* ===================== ENHANCED FLEET SECTION ===================== */
.fleet-section {
  padding: 10rem 3rem;
  max-width: 1400px;
  margin: 0 auto;
  background: var(--slate-950);
  border-radius: var(--radius-xl);
  overflow: hidden;
  position: relative;
  animation: fleetFloatIn 1s cubic-bezier(0.34, 1.56, 0.64, 1) 0.6s both;
}

@keyframes fleetFloatIn {
  from { 
    opacity: 0; 
    transform: translateY(100px) perspective(1000px) rotateX(25deg);
  }
  to { 
    opacity: 1; 
    transform: translateY(0) perspective(1000px) rotateX(0deg);
  }
}

.fleet-background {
  position: absolute;
  top: 0;
  right: 0;
  width: 32rem;
  height: 32rem;
  background: rgba(37, 99, 235, 0.15);
  border-radius: 50%;
  filter: blur(160px);
  transform: translate(50%, -50%);
  animation: fleetGlow 6s ease-in-out infinite alternate;
}

@keyframes fleetGlow {
  0% { 
    opacity: 0.3;
    filter: blur(160px) brightness(0.8);
  }
  100% { 
    opacity: 0.5;
    filter: blur(180px) brightness(1.2);
  }
}

.fleet-content {
  position: relative;
  z-index: 10;
  display: grid;
  grid-template-columns: 1fr;
  gap: 6rem;
  align-items: center;
}

@media (min-width: 1024px) {
  .fleet-content {
    grid-template-columns: 1fr 1fr;
  }
}

.fleet-info h2 {
  font-size: var(--text-7xl);
  font-weight: 900;
  color: white;
  margin-bottom: 4rem;
  line-height: 1.05;
  letter-spacing: -0.03em;
}

.fleet-info h2 span {
  color: transparent;
  background: linear-gradient(135deg, var(--gold) 0%, var(--gold-light) 50%, var(--gold) 100%);
  -webkit-background-clip: text;
  background-clip: text;
  position: relative;
}

.fleet-info h2 span::after {
  content: '';
  position: absolute;
  bottom: -4px;
  left: 0;
  right: 0;
  height: 3px;
  background: var(--gold-gradient);
  border-radius: 2px;
  opacity: 0.8;
  filter: blur(1px);
}

.fleet-list {
  display: flex;
  flex-direction: column;
  gap: 4rem;
}

.fleet-item {
  display: flex;
  gap: 3rem;
  align-items: flex-start;
  padding: 2rem;
  border-radius: var(--radius-xl);
  transition: var(--transition-bounce);
  position: relative;
  overflow: hidden;
}

.fleet-item::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--gold-gradient);
  opacity: 0;
  transition: opacity 0.3s ease;
  z-index: 1;
}

.fleet-item:hover {
  background: rgba(255, 255, 255, 0.08);
  transform: translateX(12px);
}

.fleet-item:hover::before {
  opacity: 0.05;
}

.fleet-number {
  font-size: var(--text-7xl);
  font-weight: 900;
  color: var(--gold);
  opacity: 0.3;
  font-family: 'Playfair Display', serif;
  transition: var(--transition-smooth);
  line-height: 1;
  min-width: 120px;
  position: relative;
  z-index: 2;
}

.fleet-item:hover .fleet-number {
  opacity: 0.8;
  transform: scale(1.1);
}

.fleet-details {
  flex: 1;
  position: relative;
  z-index: 2;
}

.fleet-details h3 {
  font-size: var(--text-3xl);
  font-weight: 900;
  color: white;
  margin-bottom: 1.25rem;
  letter-spacing: -0.02em;
}

.fleet-description {
  color: rgba(255, 255, 255, 0.9);
  margin-bottom: 1.5rem;
  line-height: 1.8;
  font-size: var(--text-lg);
}

.fleet-tags {
  display: flex;
  gap: 0.75rem;
  flex-wrap: wrap;
}

.fleet-tag {
  font-size: var(--text-xs);
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.3em;
  color: var(--gold);
  border: 1px solid rgba(216, 179, 93, 0.4);
  padding: 0.5rem 1.25rem;
  border-radius: var(--radius-full);
  background: rgba(216, 179, 93, 0.12);
  transition: var(--transition-bounce);
}

.fleet-tag:hover {
  background: rgba(216, 179, 93, 0.2);
  color: white;
  transform: translateY(-4px);
  box-shadow: 
    0 8px 32px rgba(216, 179, 93, 0.3),
    0 0 0 1px rgba(216, 179, 93, 0.4);
}

.fleet-image {
  position: relative;
  overflow: hidden;
  border-radius: var(--radius-xl);
}

.fleet-image img {
  width: 100%;
  height: 600px;
  object-fit: cover;
  border-radius: var(--radius-xl);
  box-shadow: 
    0 32px 80px rgba(0, 0, 0, 0.3),
    0 0 0 1px rgba(255, 255, 255, 0.1);
  border: 12px solid rgba(255, 255, 255, 0.05);
  filter: grayscale(0.3) opacity(0.9);
  transition: var(--transition-smooth);
  animation: fleetImageZoom 25s ease-in-out infinite alternate;
}

@keyframes fleetImageZoom {
  0% { 
    transform: scale(1) rotate(0deg);
    filter: grayscale(0.3) opacity(0.9) brightness(1);
  }
  100% { 
    transform: scale(1.08) rotate(0.5deg);
    filter: grayscale(0) opacity(1) brightness(1.1);
  }
}

.fleet-image:hover img {
  filter: grayscale(0) opacity(1) brightness(1.2);
  animation: none;
  transform: scale(1.05);
}

.fleet-badge {
  position: absolute;
  bottom: -3rem;
  left: -3rem;
  background: var(--primary);
  padding: 3rem;
  border-radius: var(--radius-xl);
  box-shadow: 
    0 32px 80px rgba(0, 0, 0, 0.3),
    0 0 0 1px rgba(255, 255, 255, 0.1);
  transform: translateY(0) rotate(-5deg);
  transition: var(--transition-bounce);
  z-index: 2;
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.fleet-image:hover .fleet-badge {
  transform: translateY(-15px) rotate(0deg);
  box-shadow: 
    0 48px 120px rgba(0, 0, 0, 0.4),
    0 0 0 1px rgba(255, 255, 255, 0.2);
}

.fleet-badge p {
  font-size: var(--text-3xl);
  font-weight: 900;
  color: white;
  line-height: 1.2;
  text-align: center;
  letter-spacing: -0.02em;
}

/* ===================== ENHANCED FOOTER ===================== */
.elite-footer {
  background: var(--slate-950);
  color: white;
  padding: 12rem 3rem 6rem;
  margin-top: 8rem;
  position: relative;
  overflow: hidden;
}

.elite-footer::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
  opacity: 0.3;
}

.footer-content {
  max-width: 1400px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: 1fr;
  gap: 6rem;
  margin-bottom: 6rem;
  position: relative;
  z-index: 2;
}

@media (min-width: 768px) {
  .footer-content {
    grid-template-columns: repeat(4, 1fr);
  }
}

.footer-brand {
  grid-column: 1 / -1;
}

@media (min-width: 768px) {
  .footer-brand {
    grid-column: span 2;
  }
}

.footer-logo {
  display: flex;
  align-items: center;
  gap: 1.25rem;
  margin-bottom: 3rem;
}

.footer-logo-icon {
  font-size: 3.5rem;
  color: var(--gold);
  filter: drop-shadow(0 4px 12px rgba(216, 179, 93, 0.3));
  transition: var(--transition-bounce);
}

.footer-logo:hover .footer-logo-icon {
  transform: rotate(15deg) scale(1.1);
  filter: drop-shadow(0 8px 24px rgba(216, 179, 93, 0.5));
}

.footer-logo-text {
  font-size: var(--text-7xl);
  font-weight: 900;
  color: white;
  letter-spacing: -0.03em;
}

.footer-logo-text span {
  color: transparent;
  background: linear-gradient(135deg, var(--gold) 0%, var(--gold-light) 100%);
  -webkit-background-clip: text;
  background-clip: text;
  position: relative;
}

.footer-logo-text span::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  right: 0;
  height: 2px;
  background: var(--gold-gradient);
  border-radius: 1px;
  opacity: 0.8;
}

.footer-description {
  color: rgba(255, 255, 255, 0.9);
  font-size: var(--text-2xl);
  line-height: 1.8;
  max-width: 36rem;
  margin-bottom: 3rem;
  font-weight: 400;
}

.footer-social {
  display: flex;
  gap: 1rem;
}

.social-link {
  width: 64px;
  height: 64px;
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: var(--radius-lg);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--text-lg);
  font-weight: 900;
  color: white;
  text-decoration: none;
  transition: var(--transition-bounce);
  backdrop-filter: blur(10px);
}

.social-link:hover {
  background: var(--gold);
  color: var(--slate-950);
  transform: translateY(-6px) scale(1.1);
  box-shadow: 
    0 16px 48px rgba(216, 179, 93, 0.4),
    0 0 0 1px rgba(255, 255, 255, 0.2);
}

.footer-column h4 {
  font-size: var(--text-sm);
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.4em;
  color: var(--gold);
  margin-bottom: 3rem;
  position: relative;
  padding-bottom: 1rem;
}

.footer-column h4::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 40px;
  height: 2px;
  background: var(--gold-gradient);
  border-radius: 1px;
}

.footer-links {
  list-style: none;
}

.footer-links li {
  margin-bottom: 1.5rem;
}

.footer-links a {
  color: rgba(255, 255, 255, 0.9);
  text-decoration: none;
  font-size: var(--text-base);
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.2em;
  transition: var(--transition-smooth);
  display: inline-block;
  padding: 0.5rem 0;
  position: relative;
}

.footer-links a::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 0;
  height: 2px;
  background: var(--gold-gradient);
  transition: width 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  border-radius: 1px;
}

.footer-links a:hover {
  color: var(--gold);
}

.footer-links a:hover::after {
  width: 100%;
}

.footer-contact {
  display: flex;
  flex-direction: column;
  gap: 2.5rem;
}

.contact-item {
  display: flex;
  align-items: flex-start;
  gap: 1.5rem;
}

.contact-divider {
  width: 4px;
  height: 48px;
  background: var(--gold-gradient);
  border-radius: 2px;
  flex-shrink: 0;
}

.contact-text {
  color: rgba(255, 255, 255, 0.9);
  font-size: var(--text-base);
  line-height: 1.7;
  flex: 1;
}

.contact-phone {
  font-size: var(--text-3xl);
  font-weight: 900;
  color: white;
  letter-spacing: -0.02em;
  transition: var(--transition-smooth);
}

.contact-phone:hover {
  color: var(--gold);
  transform: translateX(4px);
}

.footer-bottom {
  max-width: 1400px;
  margin: 0 auto;
  padding-top: 6rem;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  display: flex;
  flex-direction: column;
  gap: 3rem;
  align-items: center;
  justify-content: space-between;
  position: relative;
  z-index: 2;
}

@media (min-width: 768px) {
  .footer-bottom {
    flex-direction: row;
  }
}

.copyright {
  font-size: var(--text-sm);
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.4em;
  color: rgba(255, 255, 255, 0.7);
  text-align: center;
}

.developer-badge {
  display: flex;
  align-items: center;
  gap: 1rem;
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.15);
  padding: 1rem 2rem;
  border-radius: var(--radius-lg);
  font-size: var(--text-sm);
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.3em;
  color: rgba(255, 255, 255, 0.7);
  transition: var(--transition-bounce);
  backdrop-filter: blur(10px);
}

.developer-badge:hover {
  background: rgba(255, 255, 255, 0.12);
  transform: translateY(-4px);
  box-shadow: 0 16px 48px rgba(0, 0, 0, 0.2);
}

.developer-badge i {
  color: var(--gold);
  font-size: 1.25rem;
}

.developer-badge strong {
  color: var(--gold);
  font-weight: 900;
}

/* ===================== ENHANCED LOADING OVERLAY ===================== */
.loading-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(11, 31, 58, 0.98);
  backdrop-filter: blur(20px);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 9998;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.loading-overlay.active {
  opacity: 1;
  pointer-events: all;
}

/* Enhanced Bus Loader */
.bus-loader {
  position: relative;
  width: 320px;
  height: 180px;
  margin-bottom: 40px;
}

.bus {
  position: relative;
  width: 180px;
  height: 90px;
  margin: 0 auto;
  filter: drop-shadow(0 8px 24px rgba(0, 0, 0, 0.3));
}

.bus-body {
  position: absolute;
  width: 100%;
  height: 60px;
  background: var(--gold-gradient);
  border-radius: 16px 16px 0 0;
  overflow: hidden;
  animation: busMove 3s cubic-bezier(0.34, 1.56, 0.64, 1) infinite;
  box-shadow: 
    0 10px 30px rgba(216, 179, 93, 0.6),
    inset 0 0 20px rgba(255, 255, 255, 0.4);
  position: relative;
}

.bus-body::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.6), transparent);
  animation: busShine 2s linear infinite;
}

@keyframes busMove {
  0%, 100% {
    transform: translateX(-60px) rotate(-2deg);
  }
  50% {
    transform: translateX(60px) rotate(2deg);
  }
}

@keyframes busShine {
  0% { left: -100%; }
  100% { left: 100%; }
}

.bus-front {
  position: absolute;
  right: -20px;
  top: 15px;
  width: 40px;
  height: 30px;
  background: var(--gold-dark);
  border-radius: 0 8px 8px 0;
  box-shadow: inset -4px 0 8px rgba(0, 0, 0, 0.3);
}

.bus-windows {
  position: absolute;
  top: 12px;
  left: 15px;
  display: flex;
  gap: 6px;
}

.window {
  width: 35px;
  height: 20px;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.7) 100%);
  border-radius: 6px;
  box-shadow: 
    inset 0 0 10px rgba(255, 255, 255, 0.8),
    0 2px 8px rgba(0, 0, 0, 0.2);
}

.bus-wheels {
  position: absolute;
  bottom: 0;
  width: 100%;
  display: flex;
  justify-content: space-between;
  padding: 0 20px;
}

.wheel {
  width: 28px;
  height: 28px;
  background: var(--dark);
  border-radius: 50%;
  border: 4px solid var(--gold);
  animation: wheelSpin 1.5s linear infinite;
  box-shadow: 
    0 6px 20px rgba(0, 0, 0, 0.4),
    inset 0 0 10px rgba(255, 255, 255, 0.2);
  position: relative;
}

.wheel::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 6px;
  height: 6px;
  background: var(--gold);
  border-radius: 50%;
}

@keyframes wheelSpin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

.road {
  position: absolute;
  bottom: -20px;
  left: -30px;
  right: -30px;
  height: 6px;
  background: linear-gradient(90deg, 
    transparent 0%, 
    var(--gold) 20%, 
    #ffd700 50%, 
    var(--gold) 80%, 
    transparent 100%);
  animation: roadMove 2s linear infinite;
  filter: blur(1px);
}

@keyframes roadMove {
  0% {
    background-position: 0 0;
  }
  100% {
    background-position: 300px 0;
  }
}

.loading-text {
  color: white;
  font-size: var(--text-2xl);
  font-weight: 700;
  text-align: center;
  background: linear-gradient(90deg, #d8b35d, #f4dfaa, #d8b35d);
  background-size: 200% auto;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: gradientShift 3s linear infinite;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
}

@keyframes gradientShift {
  0% { background-position: 0% center; }
  100% { background-position: 200% center; }
}

/* ===================== ENHANCED UTILITIES ===================== */
.spinner {
  display: inline-block;
  width: 28px;
  height: 28px;
  background: transparent;
  position: relative;
}

.spinner::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 28px;
  height: 28px;
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23d8b35d'%3E%3Cpath d='M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2z'/%3E%3C/svg%3E") no-repeat center;
  animation: busPulse 1.5s cubic-bezier(0.34, 1.56, 0.64, 1) infinite;
}

@keyframes busPulse {
  0%, 100% { transform: scale(1) translateX(0); }
  50% { transform: scale(1.2) translateX(4px); }
}

.hidden {
  display: none;
}

/* Enhanced Mobile menu styles */
.mobile-nav-links {
  display: none;
  position: fixed;
  top: 80px;
  left: 0;
  right: 0;
  background: var(--glass);
  backdrop-filter: blur(32px) saturate(180%);
  flex-direction: column;
  gap: 0;
  padding: 2rem 0;
  transform: translateY(-100%) scale(0.95);
  opacity: 0;
  transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.3s ease;
  z-index: 999;
  box-shadow: 
    var(--shadow-xl),
    inset 0 0 0 1px rgba(255, 255, 255, 0.1);
  border-bottom: 1px solid var(--border);
}

.dark .mobile-nav-links {
  background: var(--glass-dark);
}

.mobile-nav-links.active {
  display: flex;
  transform: translateY(0) scale(1);
  opacity: 1;
}

.mobile-nav-links .nav-link {
  padding: 1.5rem 3rem;
  text-align: center;
  border-bottom: 1px solid var(--border);
  font-size: var(--text-lg);
  font-weight: 800;
  letter-spacing: 0.3em;
  transition: var(--transition-smooth);
}

.mobile-nav-links .nav-link:last-child {
  border-bottom: none;
}

.mobile-nav-links .nav-link:hover {
  background: rgba(216, 179, 93, 0.1);
  color: var(--gold);
  transform: translateX(8px);
}

/* ===================== ENHANCED COPY SUCCESS MESSAGE ===================== */
.copied-message {
  position: fixed;
  bottom: 40px;
  left: 50%;
  transform: translateX(-50%) translateY(30px);
  background: var(--secondary);
  color: white;
  padding: 1rem 2rem;
  border-radius: var(--radius-lg);
  font-weight: 800;
  z-index: 10000;
  opacity: 0;
  transition: var(--transition-bounce);
  box-shadow: 
    var(--shadow-green),
    0 0 0 1px rgba(255, 255, 255, 0.1);
  display: flex;
  align-items: center;
  gap: 1rem;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.copied-message.show {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

.copied-message i {
  font-size: 1.5rem;
  animation: successSpin 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes successSpin {
  0% { transform: scale(0) rotate(-180deg); }
  100% { transform: scale(1) rotate(0deg); }
}

/* ===================== ENHANCED MOBILE VIEW ===================== */
@media (max-width: 1024px) {
  html {
    font-size: 15px;
  }
  
  .elite-nav {
    padding: 1.25rem 2rem;
  }
  
  .elite-nav.scrolled {
    padding: 1rem 2rem;
  }
  
  .nav-brand-text {
    font-size: var(--text-2xl);
  }
  
  .nav-logo {
    width: 48px;
    height: 48px;
  }
  
  .theme-toggle-btn {
    width: 48px;
    height: 48px;
  }
}

@media (max-width: 768px) {
  html {
    font-size: 14px;
  }
  
  .scrolling-line {
    height: 3px;
  }
  
  .elite-hero {
    min-height: 90vh;
  }
  
  .hero-background {
    animation: mobile-slow-zoom 35s ease-in-out infinite alternate;
    background-attachment: scroll;
  }
  
  @keyframes mobile-slow-zoom {
    0% { 
      transform: scale(1.1) rotate(0deg);
      filter: contrast(1.1) brightness(1.1);
    }
    100% { 
      transform: scale(1.2) rotate(0.3deg);
      filter: contrast(1.15) brightness(1.15);
    }
  }
  
  .hero-title {
    font-size: var(--text-6xl) !important;
  }
  
  .hero-subtitle {
    font-size: var(--text-xl);
    padding: 0 1rem;
  }
  
  .hero-badge {
    padding: 0.75rem 1.5rem;
    font-size: var(--text-xs);
    margin-bottom: 2rem;
  }
  
  .admin-contact-badge,
  .hero-primary-btn {
    padding: 1rem 2rem !important;
    font-size: var(--text-base) !important;
    min-width: 260px !important;
    width: 100% !important;
  }
  
  .hero-actions {
    flex-direction: column;
    gap: 1rem;
    align-items: stretch;
    width: 100%;
    max-width: 400px;
  }
  
  /* Enhanced mobile navigation */
  .elite-nav {
    padding: 1rem;
    top: 3px;
  }
  
  .nav-container {
    padding: 0;
  }
  
  .nav-brand-text {
    font-size: var(--text-xl);
  }
  
  .nav-logo {
    width: 40px;
    height: 40px;
    font-size: 1.25rem;
  }
  
  .nav-book-btn {
    display: none;
  }
  
  .nav-actions {
    gap: 0.75rem;
  }
  
  .theme-toggle-btn {
    width: 40px;
    height: 40px;
    font-size: 1.125rem;
  }
  
  .mobile-menu-btn {
    display: flex !important;
  }
  
  .nav-links {
    display: none;
  }
  
  .booking-portal {
    margin: 0 auto 6rem;
    padding: 0 1.5rem;
  }
  
  .portal-wrapper {
    border-radius: var(--radius-xl);
  }
  
  .new-booking-grid,
  .check-booking-grid {
    grid-template-columns: 1fr;
    gap: 2.5rem;
  }
  
  .booking-form-section,
  .search-section,
  .results-section,
  .instructions-section {
    padding: 2rem;
    border-radius: var(--radius-lg);
  }
  
  .form-grid {
    grid-template-columns: 1fr;
  }
  
  /* Support panel mobile */
  .support-panel {
    width: 300px;
  }
  
  /* Floating buttons mobile */
  .scroll-to-top {
    bottom: 100px;
    right: 1.5rem;
    width: 56px;
    height: 56px;
    font-size: 1.25rem;
  }
  
  .features-section,
  .fleet-section,
  .routes-section {
    padding: 6rem 1.5rem;
  }
  
  .section-title {
    font-size: var(--text-5xl);
  }
  
  .features-grid {
    grid-template-columns: 1fr;
    gap: 2rem;
  }
  
  .feature-card {
    padding: 2.5rem;
  }
  
  /* Fleet section mobile */
  .fleet-section {
    border-radius: var(--radius-xl);
    padding: 6rem 1.5rem;
  }
  
  .fleet-info h2 {
    font-size: var(--text-5xl);
  }
  
  .fleet-item {
    gap: 1.5rem;
    padding: 1.5rem;
  }
  
  .fleet-number {
    font-size: var(--text-5xl);
    min-width: 80px;
  }
  
  .fleet-image img {
    height: 400px;
  }
  
  .fleet-badge {
    position: relative;
    bottom: 0;
    left: 0;
    margin-top: 2rem;
    padding: 2rem;
  }
  
  .elite-footer {
    padding: 6rem 1.5rem 4rem;
  }
  
  .footer-bottom {
    flex-direction: column;
    text-align: center;
    gap: 2rem;
  }
  
  /* Bus loader mobile */
  .bus-loader {
    width: 240px;
    height: 140px;
  }
  
  .bus {
    width: 140px;
    height: 70px;
  }
  
  /* Routes section mobile */
  .routes-section {
    padding: 6rem 1.5rem;
  }
  
  .route-cards {
    grid-template-columns: 1fr;
    gap: 2rem;
  }
  
  .route-card {
    padding: 2rem;
  }
  
  .route-map-container {
    padding: 2rem;
  }
  
  .map-timeline {
    min-width: 800px;
    padding: 2rem 0;
  }
  
  .route-summary {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 480px) {
  .hero-title {
    font-size: var(--text-4xl) !important;
  }
  
  .portal-tab {
    padding: 1.5rem;
    flex-direction: column;
    text-align: center;
    gap: 1rem;
  }
  
  .portal-tab i {
    font-size: 2rem;
  }
  
  .tab-title {
    font-size: var(--text-2xl);
  }
  
  .hero-badge {
    font-size: var(--text-xs);
    padding: 0.75rem 1.25rem;
  }
  
  .admin-contact-badge,
  .hero-primary-btn {
    font-size: var(--text-sm) !important;
    padding: 0.875rem 1.5rem !important;
    min-width: 240px !important;
  }
  
  .scroll-to-top {
    bottom: 90px;
    right: 1rem;
    width: 48px;
    height: 48px;
  }
  
  .support-panel {
    width: 280px;
  }
  
  /* Bus loader mobile */
  .bus-loader {
    width: 200px;
    height: 120px;
  }
  
  .bus {
    width: 120px;
    height: 60px;
  }
  
  /* Routes section mobile */
  .map-timeline {
    min-width: 600px;
  }
  
  .map-stop {
    min-width: 100px;
  }
}

/* iOS specific fixes */
@supports (-webkit-touch-callout: none) {
  .hero-background {
    background-attachment: scroll;
    animation: ios-mobile-zoom 30s ease-in-out infinite alternate;
  }
  
  @keyframes ios-mobile-zoom {
    0% { transform: scale(1.05); filter: brightness(1); }
    100% { transform: scale(1.15); filter: brightness(1.1); }
  }
  
  .elite-hero,
  .fleet-section,
  .features-section,
  .routes-section {
    -webkit-overflow-scrolling: touch;
  }
}

/* Fix for hanging issue */
*:focus {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

button:disabled,
.btn:disabled,
.search-btn:disabled,
.whatsapp-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none !important;
  box-shadow: none !important;
}

button:disabled:hover,
.btn:disabled:hover,
.search-btn:disabled:hover,
.whatsapp-btn:disabled:hover {
  transform: none !important;
  box-shadow: none !important;
}

/* Animation performance */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  .particles,
  .scrolling-line,
  .hero-background::before,
  .hero-background::after {
    display: none;
  }
}

/* Ensure same size for admin button and reserve button */
.hero-actions button,
.hero-actions a {
  min-width: 280px;
  text-align: center;
  justify-content: center;
}

/* Enhanced focus styles for accessibility */
@media (prefers-reduced-motion: no-preference) {
  :focus-visible {
    outline: 3px solid var(--primary);
    outline-offset: 3px;
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2);
  }
}

/* Print styles */
@media print {
  .elite-nav,
  .scroll-to-top,
  .support-panel,
  .hero-actions,
  .ticket-actions,
  .footer-social,
  .mobile-menu-btn,
  .theme-toggle-btn {
    display: none !important;
  }
  
  body {
    font-size: 12pt;
    line-height: 1.5;
    color: #000;
    background: #fff;
  }
  
  .ticket-card {
    break-inside: avoid;
    box-shadow: none;
    border: 2px solid #000;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  :root {
    --primary: #000080;
    --secondary: #006400;
    --gold: #8b7500;
    --text-primary: #000;
    --text-secondary: #333;
  }
  
  [data-theme="dark"] {
    --primary: #1e90ff;
    --secondary: #00ff00;
    --gold: #ffd700;
    --text-primary: #fff;
    --text-secondary: #ccc;
  }
  
  .hero-title span,
  .nav-brand-text span,
  .footer-logo-text span {
    -webkit-text-fill-color: var(--gold);
    color: var(--gold);
  }
}

/* Reduced transparency support */
@media (prefers-reduced-transparency: reduce) {
  .elite-nav,
  .hero-badge,
  .admin-contact-badge,
  .hero-primary-btn,
  .support-panel,
  .feature-card,
  .booking-form-section,
  .search-section,
  .instructions-section,
  .route-card,
  .route-map-container,
  .developer-badge,
  .social-link,
  .mobile-nav-links {
    backdrop-filter: none;
    background: var(--card);
  }
  
  .elite-hero .hero-badge,
  .elite-hero .admin-contact-badge,
  .elite-hero .hero-primary-btn {
    background: rgba(11, 31, 58, 0.95);
  }
  
  .dark .elite-nav,
  .dark .mobile-nav-links {
    background: var(--surface);
  }
}

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {
  button,
  .btn,
  .nav-link,
  .social-link,
  .feature-card,
  .detail-card,
  .route-card,
  .support-item,
  .fleet-item {
    transition: none;
  }
  
  button:active,
  .btn:active,
  .nav-link:active {
    transform: scale(0.98);
  }
  
  .hero-actions,
  .ticket-actions {
    gap: 1rem;
  }
}

/* Smooth scrolling for anchor links */
html:focus-within {
  scroll-behavior: smooth;
}

/* Performance optimizations */
@media (prefers-reduced-motion: no-preference) {
  .will-change {
    will-change: transform, opacity;
  }
}

/* Container queries support (future) */
@supports (container-type: inline-size) {
  .booking-portal {
    container-type: inline-size;
  }
  
  @container (max-width: 768px) {
    .new-booking-grid,
    .check-booking-grid {
      grid-template-columns: 1fr;
    }
  }
}
</style>
</head>
<body>
<!-- Scrolling Yellow Line -->
<div class="scrolling-line"></div>

<!-- Welcome Overlay -->
<div class="welcome-overlay" id="welcomeOverlay">
  <div class="welcome-logo">
    <i class="fas fa-bus"></i>
  </div>
  <div class="welcome-text">
    <h1 class="welcome-title">LAGAN BUS BOOKING</h1>
    <p class="welcome-subtitle">Excellence in Motion</p>
  </div>
</div>

<!-- Loading Overlay -->
<div class="loading-overlay" id="loadingOverlay">
  <div class="bus-loader">
    <div class="bus">
      <div class="bus-body">
        <div class="bus-windows">
          <div class="window"></div>
          <div class="window"></div>
          <div class="window"></div>
        </div>
        <div class="bus-front"></div>
      </div>
      <div class="bus-wheels">
        <div class="wheel"></div>
        <div class="wheel"></div>
      </div>
      <div class="road"></div>
    </div>
  </div>
  <p class="loading-text" id="loadingText">Processing...</p>
</div>

<!-- Scroll to Top Button -->
<button class="scroll-to-top" id="scrollToTop">
  <i class="fas fa-chevron-up"></i>
</button>

<!-- Support Panel -->
<div class="support-panel" id="supportPanel">
  <button class="support-toggle" onclick="toggleSupportPanel()">
    <i class="fas fa-headset"></i>
  </button>
  <div class="support-header">
    <h3><i class="fas fa-life-ring"></i> Support Center</h3>
  </div>
  <div class="support-content">
    <div class="support-item">
      <i class="fas fa-user-tie"></i>
      <div class="support-info">
        <h4>MOHAMED FAWAS</h4>
        <p>Owner & Manager</p>
      </div>
    </div>
    <div class="support-item">
      <i class="fas fa-phone"></i>
      <div class="support-info">
        <h4>+94 701 362 527</h4>
        <p>24/7 WhatsApp Support</p>
      </div>
    </div>
    <div class="support-item">
      <i class="fas fa-map-marker-alt"></i>
      <div class="support-info">
        <h4>Location</h4>
        <p>Nintavur Main Road, Eastern Province</p>
      </div>
    </div>
    <div class="support-item">
      <i class="fas fa-clock"></i>
      <div class="support-info">
        <h4>Boarding Time</h4>
        <p>Arrive 15 minutes before departure</p>
      </div>
    </div>
  </div>
</div>

<!-- Elite Navigation -->
<nav class="elite-nav" id="eliteNav">
  <div class="nav-container">
    <div class="nav-brand" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
      <div class="nav-logo">
        <i class="fas fa-bus"></i>
      </div>
      <span class="nav-brand-text">LAGAN<span>BUS</span></span>
    </div>
    
    <!-- Desktop Navigation -->
    <div class="nav-links">
      <a href="#fleet" class="nav-link">Fleet</a>
      <a href="#safety" class="nav-link">Safety</a>
      <a href="#routes" class="nav-link">Routes</a>
      <a href="#support" class="nav-link" onclick="toggleSupportPanel(); return false;">Support</a>
    </div>
    
    <div class="nav-actions">
      <!-- Mobile Menu Button -->
      <button class="mobile-menu-btn" id="mobileMenuBtn">
        <i class="fas fa-bars"></i>
      </button>
      
      <button class="theme-toggle-btn" id="themeToggle">
        <i class="fas fa-moon" id="themeIcon"></i>
      </button>
      <button class="nav-book-btn" onclick="switchTab('newTab')">
        Book Seat
      </button>
    </div>
  </div>
  
  <!-- Mobile Navigation Links -->
  <div class="mobile-nav-links" id="mobileNavLinks">
    <a href="#fleet" class="nav-link" onclick="closeMobileMenu()">Fleet</a>
    <a href="#safety" class="nav-link" onclick="closeMobileMenu()">Safety</a>
    <a href="#routes" class="nav-link" onclick="closeMobileMenu()">Routes</a>
    <a href="#support" class="nav-link" onclick="toggleSupportPanel(); closeMobileMenu();">Support</a>
    <a href="#booking-portal" class="nav-link" onclick="switchTab('newTab'); closeMobileMenu();">Book Seat</a>
  </div>
</nav>

<!-- Elite Hero Section -->
<header class="elite-hero">
  <div class="particles" id="particles"></div>
  <div class="hero-background"></div>
  <div class="hero-content">
    <div class="hero-badge">
      <i class="fas fa-star"></i>
      Voted #1 Luxury Experience 2024
    </div>
    
    <h1 class="hero-title">
      Travel In <br/>
      <span>Elite Class.</span>
    </h1>
    
    <p class="hero-subtitle">
      Sri Lanka's premier long-distance coach service. Redefining comfort, safety, and punctuality for the modern traveler.
    </p>
    
    <div class="hero-actions">
      <button class="admin-contact-badge" onclick="openAdminWhatsApp()">
        <i class="fas fa-phone-alt"></i>
        <span>Admin: +94 701 362 527</span>
      </button>
      
      <button class="hero-primary-btn" onclick="switchTab('newTab')">
        Reserve Now
        <i class="fas fa-arrow-right"></i>
      </button>
    </div>
    
    <div class="scroll-indicator">
      <i class="fas fa-chevron-down"></i>
    </div>
  </div>
</header>

<!-- Booking Portal -->
<section class="booking-portal" id="booking-portal">
  <div class="portal-wrapper">
    <div class="portal-tabs">
      <button class="portal-tab active" onclick="switchTab('newTab')">
        <i class="fas fa-calendar-plus"></i>
        <div>
          <div class="tab-label">New Journey</div>
          <div class="tab-title">Reservation</div>
        </div>
      </button>
      <button class="portal-tab" onclick="switchTab('checkTab')">
        <i class="fas fa-search"></i>
        <div>
          <div class="tab-label">Track Ticket</div>
          <div class="tab-title">Verify Status</div>
        </div>
      </button>
    </div>
    
    <!-- New Booking Tab -->
    <div id="newTab" class="portal-tab-content">
      <div class="new-booking-grid">
        <!-- Booking Form -->
        <div class="booking-form-section">
          <div class="form-header">
            <div class="form-icon">
              <i class="fas fa-calendar-plus"></i>
            </div>
            <h2 class="form-title">New Reservation</h2>
          </div>
          
          <form id="bookingForm" onsubmit="return false;">
            <div class="form-grid">
              <div class="form-group">
                <label class="form-label" for="passengerName">
                  <i class="fas fa-user"></i>
                  Full Name
                </label>
                <div class="form-icon-left">
                  <i class="fas fa-user"></i>
                </div>
                <input type="text" id="passengerName" class="form-input" 
                       placeholder="Enter your full name" required>
              </div>
              
              <div class="form-group">
                <label class="form-label" for="passengerPhone">
                  <i class="fas fa-phone"></i>
                  WhatsApp Number
                </label>
                <div class="form-icon-left">
                  <i class="fas fa-mobile-alt"></i>
                </div>
                <input type="tel" id="passengerPhone" class="form-input" 
                       placeholder="947XXXXXXXX" maxlength="10" required
                       inputmode="numeric"
                       pattern="[0-9]*">
              </div>
              
              <div class="form-group">
                <label class="form-label" for="fromLocation">
                  <i class="fas fa-map-marker-alt"></i>
                  From (Origin)
                </label>
                <div class="form-icon-left">
                  <i class="fas fa-location-arrow"></i>
                </div>
                <select id="fromLocation" class="form-select" required>
                  <option value="">Select origin city</option>
                  <option value="Nintavur">Nintavur</option>
                  <option value="Addalaichenai">Addalaichenai</option>
                  <option value="Akkaraipattu">Akkaraipattu</option>
                  <option value="Pottuvil">Pottuvil</option>
                  <option value="Panama">Panama</option>
                  <option value="Lahugala">Lahugala</option>
                  <option value="Monaragala">Monaragala</option>
                  <option value="Bibile">Bibile</option>
                  <option value="Medagama">Medagama</option>
                  <option value="Wellawaya">Wellawaya</option>
                  <option value="Badulla">Badulla</option>
                  <option value="Bandarawela">Bandarawela</option>
                  <option value="Hali-Ela">Hali-Ela</option>
                  <option value="Passara">Passara</option>
                  <option value="Mahiyanganaya">Mahiyanganaya</option>
                  <option value="Kandy">Kandy</option>
                  <option value="Peradeniya">Peradeniya</option>
                  <option value="Gampola">Gampola</option>
                  <option value="Nawalapitiya">Nawalapitiya</option>
                  <option value="Hatton">Hatton</option>
                  <option value="Nanu Oya">Nanu Oya</option>
                  <option value="Nuwara Eliya">Nuwara Eliya</option>
                </select>
              </div>
              
              <div class="form-group">
                <label class="form-label" for="toLocation">
                  <i class="fas fa-map-marker-alt"></i>
                  To (Destination)
                </label>
                <div class="form-icon-left">
                  <i class="fas fa-flag-checkered"></i>
                </div>
                <select id="toLocation" class="form-select" required>
                  <option value="">Select destination city</option>
                  <option value="Nintavur">Nintavur</option>
                  <option value="Addalaichenai">Addalaichenai</option>
                  <option value="Akkaraipattu">Akkaraipattu</option>
                  <option value="Pottuvil">Pottuvil</option>
                  <option value="Panama">Panama</option>
                  <option value="Lahugala">Lahugala</option>
                  <option value="Monaragala">Monaragala</option>
                  <option value="Bibile">Bibile</option>
                  <option value="Medagama">Medagama</option>
                  <option value="Wellawaya">Wellawaya</option>
                  <option value="Badulla">Badulla</option>
                  <option value="Bandarawela">Bandarawela</option>
                  <option value="Hali-Ela">Hali-Ela</option>
                  <option value="Passara">Passara</option>
                  <option value="Mahiyanganaya">Mahiyanganaya</option>
                  <option value="Kandy">Kandy</option>
                  <option value="Peradeniya">Peradeniya</option>
                  <option value="Gampola">Gampola</option>
                  <option value="Nawalapitiya">Nawalapitiya</option>
                  <option value="Hatton">Hatton</option>
                  <option value="Nanu Oya">Nanu Oya</option>
                  <option value="Nuwara Eliya">Nuwara Eliya</option>
                </select>
              </div>
              
              <div class="form-group">
                <label class="form-label" for="travelDate">
                  <i class="fas fa-calendar-alt"></i>
                  Travel Date
                </label>
                <div class="form-icon-left">
                  <i class="far fa-calendar"></i>
                </div>
                <input type="date" id="travelDate" class="form-input" required>
              </div>
              
              <div class="form-group">
                <label class="form-label" for="busName">
                  <i class="fas fa-bus"></i>
                  Preferred Bus
                </label>
                <div class="form-icon-left">
                  <i class="fas fa-bus"></i>
                </div>
                <select id="busName" class="form-select" required>
                  <option value="">Select bus service</option>
                  <option value="Sakeer Express">Sakeer Express</option>
                  <option value="RS Express">RS Express</option>
                  <option value="Myown Express">Myown Express</option>
                  <option value="Al Ahla">Al Ahla</option>
                  <option value="Al Rashith">Al Rashith</option>
                  <option value="Star Travels">Star Travels</option>
                  <option value="Lloyds Travels">Lloyds Travels</option>
                  <option value="Super Line">Super Line</option>
                </select>
              </div>
              
              <div class="form-group">
                <label class="form-label" for="seatCount">
                  <i class="fas fa-chair"></i>
                  Number of Seats
                </label>
                <div class="form-icon-left">
                  <i class="fas fa-users"></i>
                </div>
                <select id="seatCount" class="form-select" required>
                  <option value="">Select seats</option>
                  <option value="1">1 Seat</option>
                  <option value="2">2 Seats</option>
                  <option value="3">3 Seats</option>
                  <option value="4">4 Seats</option>
                  <option value="5">5 Seats</option>
                  <option value="6">6 Seats</option>
                  <option value="7">7 Seats</option>
                  <option value="8">8 Seats</option>
                  <option value="9">9 Seats</option>
                  <option value="10">10 Seats</option>
                </select>
              </div>
            </div>
            
            <!-- Total Cost Display -->
            <div id="totalCostDisplay" class="total-cost-display"></div>
            
            <!-- Bank Details Button -->
            <button type="button" id="showBankDetailsBtn" class="bank-details-btn">
              <i class="fas fa-university"></i> View Bank Payment Details
            </button>
            
            <button type="button" id="whatsappSubmitBtn" class="whatsapp-btn">
              <i class="fab fa-whatsapp"></i> Send Booking via WhatsApp
            </button>
          </form>
        </div>
        
        <!-- Instructions Card -->
        <div class="instructions-section">
          <div class="instructions-header">
            <div class="instructions-icon">
              <i class="fas fa-graduation-cap"></i>
            </div>
            <h2 class="instructions-title">How to Book</h2>
          </div>
          
          <div class="steps-list">
            <div class="step-item">
              <div class="step-number">1</div>
              <div class="step-content">
                <h3 class="step-title">Fill Booking Form</h3>
                <p class="step-description">Complete all details accurately in the form above</p>
              </div>
            </div>
            
            <div class="step-item">
              <div class="step-number">2</div>
              <div class="step-content">
                <h3 class="step-title">Submit via WhatsApp</h3>
                <p class="step-description">Click the WhatsApp button to send your request</p>
              </div>
            </div>
            
            <div class="step-item">
              <div class="step-number">3</div>
              <div class="step-content">
                <div class="highlight-step">
                  <h4 class="step-title">
                    <i class="fas fa-exclamation-circle"></i>
                    Important Step
                  </h4>
                  <p class="step-description">
                    When WhatsApp opens, <strong>manually attach your payment slip photo/screenshot</strong> before sending
                  </p>
                </div>
              </div>
            </div>
            
            <div class="step-item">
              <div class="step-number">4</div>
              <div class="step-content">
                <h3 class="step-title">Wait for Confirmation</h3>
                <p class="step-description">Our team will verify and confirm within 24 hours</p>
              </div>
            </div>
            
            <div class="step-item">
              <div class="step-number">5</div>
              <div class="step-content">
                <h3 class="step-title">Check Your Booking</h3>
                <p class="step-description">Use the "Verify Status" tab to view confirmed details</p>
                <div class="highlight-step" style="margin-top: 10px;">
                  <h4 class="step-title">
                    <i class="fas fa-search"></i>
                    How to Find My Booking
                  </h4>
                  <p class="step-description">
                     Go to "Verify Status" tab<br>
                     Enter your WhatsApp number<br>
                     Click "Check Booking Status"<br>
                     View your booking details
                  </p>
                </div>
              </div>
            </div>
            
            <div class="step-item">
              <div class="step-number">6</div>
              <div class="step-content">
                <div class="highlight-step">
                  <h4 class="step-title">
                    <i class="fas fa-clock"></i>
                    Boarding Instructions
                  </h4>
                  <p class="step-description">
                    <strong>Arrive 15 minutes before departure</strong> at the pickup point. Keep your booking confirmation ready. Be punctual to ensure smooth boarding.
                  </p>
                </div>
              </div>
            </div>
          </div>
          
          <div class="whatsapp-contact">
            <h3 class="contact-title">
              <i class="fab fa-whatsapp"></i> Need Immediate Help?
            </h3>
            <a href="https://wa.me/94701362527" target="_blank" class="contact-link">
              <i class="fab fa-whatsapp"></i> Chat on WhatsApp
            </a>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Check Booking Tab -->
    <div id="checkTab" class="portal-tab-content">
      <div class="check-booking-grid">
        <!-- Search Section -->
        <div class="search-section">
          <div class="search-header">
            <div class="search-icon">
              <i class="fas fa-search"></i>
            </div>
            <h2 class="search-title">Find Your Booking</h2>
          </div>
          
          <div class="phone-input-wrapper">
            <div class="phone-input-icon">
              <i class="fas fa-phone"></i>
            </div>
            <input type="tel" id="checkPhone" class="phone-input" 
                   placeholder="947XXXXXXXX" 
                   maxlength="10"
                   inputmode="numeric"
                   pattern="[0-9]*">
          </div>
          
          <button id="checkBtn" class="search-btn" type="button">
            <i class="fas fa-search"></i> Check Booking Status
          </button>
          
          <!-- Instructions for finding booking -->
          <div style="margin-top: 1.5rem; padding: 1rem; background: rgba(216, 179, 93, 0.1); border-radius: 0.75rem; border-left: 3px solid var(--gold);">
            <h4 style="color: var(--text-primary); font-size: 0.9rem; margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem;">
              <i class="fas fa-lightbulb"></i> How to find your booking:
            </h4>
            <ul style="color: var(--text-secondary); font-size: 0.85rem; padding-left: 1.2rem; line-height: 1.5;">
              <li>Enter your WhatsApp number used for booking</li>
              <li>Click "Check Booking Status"</li>
              <li>View all your travel details</li>
              <li>Download your ticket if confirmed</li>
            </ul>
          </div>
        </div>
        
        <!-- Results Section -->
        <div class="results-section" id="resultsSection">
          <!-- Initial State -->
          <div id="initialState" class="no-booking">
            <i class="fas fa-ticket-alt"></i>
            <h3>No Booking Selected</h3>
            <p>Enter your WhatsApp number to check your booking status and view all travel details.</p>
          </div>
          
          <!-- Ticket Card -->
          <div class="ticket-card" id="ticketCard" style="display: none;">
            <div class="ticket-header">
              <h3 class="ticket-title">Travel Ticket</h3>
              <p class="ticket-subtitle">Safe travels with Lagan Bus Services</p>
            </div>
            
            <div class="ticket-body">
              <div class="passenger-section">
                <div class="passenger-avatar">
                  <i class="fas fa-user"></i>
                </div>
                <h3 id="displayPassengerName" class="passenger-name">-</h3>
                <p id="displayBookingId" class="booking-id">Booking ID: -</p>
              </div>
              
              <div class="details-grid">
                <div class="detail-card">
                  <div class="detail-icon">
                    <i class="fas fa-bus"></i>
                  </div>
                  <div class="detail-label">Bus Service</div>
                  <div id="displayBusName" class="detail-value">-</div>
                </div>
                
                <div class="detail-card">
                  <div class="detail-icon">
                    <i class="far fa-calendar-alt"></i>
                  </div>
                  <div class="detail-label">Travel Date & Time</div>
                  <div id="displayDateTime" class="detail-value">-</div>
                </div>
                
                <div class="detail-card">
                  <div class="detail-icon">
                    <i class="fas fa-map-marker-alt"></i>
                  </div>
                  <div class="detail-label">Route</div>
                  <div id="displayRoute" class="detail-value">-</div>
                </div>
                
                <!-- Payment Status Card -->
                <div class="detail-card">
                  <div class="detail-icon">
                    <i class="fas fa-check-circle"></i>
                  </div>
                  <div class="detail-label">Payment Status</div>
                  <div id="displayPaymentStatus" class="detail-value pending">-</div>
                </div>
                
                <!-- Seat Numbers Card - FIXED: Shows exact seat numbers -->
                <div class="detail-card">
                  <div class="detail-icon">
                    <i class="fas fa-chair"></i>
                  </div>
                  <div class="detail-label">Seat Numbers</div>
                  <div id="displaySeatNumbers" class="detail-value">-</div>
                </div>
                
                <!-- Total Amount Card - FIXED: Shows exact amount from sheet -->
                <div class="detail-card">
                  <div class="detail-icon">
                    <i class="fas fa-money-bill-wave"></i>
                  </div>
                  <div class="detail-label">Total Amount</div>
                  <div id="displayTotalAmount" class="detail-value">-</div>
                </div>
              </div>
              
              <div style="background: rgba(245, 158, 11, 0.1); padding: 1rem; border-radius: 0.75rem; margin: 1.5rem 0; border-left: 3px solid #F59E0B;">
                <p style="color: var(--warning); font-weight: 600; margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem;">
                  <i class="fas fa-clock"></i> Important Reminder:
                </p>
                <p style="color: var(--text-primary); font-size: 0.95rem;">
                  <strong>Be there before 15 minutes at the pickup point.</strong> Arrive early to ensure smooth boarding and avoid delays.
                </p>
              </div>
              
              <div class="ticket-actions">
                <button id="downloadTicketBtn" class="btn btn-primary" type="button">
                  <i class="fas fa-download"></i> Download Ticket
                </button>
                <button class="btn btn-secondary" type="button" onclick="switchTab('newTab')">
                  <i class="fas fa-plus"></i> New Booking
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Features Section -->
<section class="features-section" id="safety">
  <div class="section-header">
    <div class="section-badge">Elite Standards</div>
    <h2 class="section-title">Crafted for the Discerning Traveler.</h2>
    <div class="section-divider"></div>
  </div>
  
  <div class="features-grid">
    <div class="feature-card">
      <div class="feature-icon">
        <i class="fas fa-shield-alt"></i>
      </div>
      <h3 class="feature-title">Premium Safety</h3>
      <p class="feature-description">GPS tracked buses with professional drivers and comprehensive insurance for your peace of mind.</p>
    </div>
    
    <div class="feature-card">
      <div class="feature-icon">
        <i class="fas fa-couch"></i>
      </div>
      <h3 class="feature-title">Luxury Comfort</h3>
      <p class="feature-description">Air-conditioned coaches with reclining seats, WiFi, and entertainment systems for a relaxing journey.</p>
    </div>
    
    <div class="feature-card">
      <div class="feature-icon">
        <i class="fas fa-bolt"></i>
      </div>
      <h3 class="feature-title">Instant Booking</h3>
      <p class="feature-description">Book your seat in seconds with instant confirmation and real-time updates on your booking status.</p>
    </div>
  </div>
</section>

<!-- Routes Section -->
<section class="routes-section" id="routes">
  <div class="section-header">
    <div class="section-badge">Routes & Pricing</div>
    <h2 class="section-title">Detailed Routes & Fare Information</h2>
    <div class="section-divider"></div>
    <p class="section-subtitle" style="color: var(--text-secondary); margin-top: 1rem; max-width: 800px; margin-left: auto; margin-right: auto;">
      All buses operate on premium routes with consistent pricing. Below are the detailed routes covered by each bus service.
    </p>
  </div>
  
  <div class="routes-container">
    <!-- Route Group 1 -->
    <div class="route-group">
      <h3 class="route-group-title">
        <i class="fas fa-route" style="color: var(--gold); margin-right: 10px;"></i>
        Route Group 1: Sammanthurai to Colombo Route
      </h3>
      <div class="route-cards">
        <!-- Sakeer Express -->
        <div class="route-card">
          <div class="route-card-header">
            <h4>Sakeer Express</h4>
            <div class="route-price">LKR 2,700<span>/seat</span></div>
          </div>
          <div class="route-details">
            <div class="route-stops">
              <div class="route-stop start">
                <i class="fas fa-map-marker-alt"></i>
                <span>Sammanthurai</span>
              </div>
              <div class="route-stops-list">
                <span>Nintavur</span>
                <span>Kalmunai</span>
                <span>Maruthamunai</span>
                <span>Batticaloa</span>
                <span>Polonaruwa</span>
                <span>Kattunayaka Airport</span>
                <span>Orugudwaththa</span>
                <span>Wellampitiya</span>
                <span>Kolonnawa</span>
                <span>Rajagiriya</span>
                <span>Mardana</span>
                <span>Kolluppitiya</span>
                <span>Wellwaththa</span>
              </div>
              <div class="route-stop end">
                <i class="fas fa-flag-checkered"></i>
                <span>Dehiwala</span>
              </div>
            </div>
            <div class="route-tags">
              <span class="route-tag">Premium Service</span>
              <span class="route-tag">Air Conditioned</span>
            </div>
          </div>
        </div>
        
        <!-- Myown Express -->
        <div class="route-card">
          <div class="route-card-header">
            <h4>Myown Express</h4>
            <div class="route-price">LKR 2,700<span>/seat</span></div>
          </div>
          <div class="route-details">
            <div class="route-stops">
              <div class="route-stop start">
                <i class="fas fa-map-marker-alt"></i>
                <span>Sammanthurai</span>
              </div>
              <div class="route-stops-list">
                <span>Nintavur</span>
                <span>Kalmunai</span>
                <span>Maruthamunai</span>
                <span>Batticaloa</span>
                <span>Polonaruwa</span>
                <span>Kattunayaka Airport</span>
                <span>Orugudwaththa</span>
                <span>Wellampitiya</span>
                <span>Kolonnawa</span>
                <span>Rajagiriya</span>
                <span>Mardana</span>
                <span>Kolluppitiya</span>
                <span>Wellwaththa</span>
              </div>
              <div class="route-stop end">
                <i class="fas fa-flag-checkered"></i>
                <span>Dehiwala</span>
              </div>
            </div>
            <div class="route-tags">
              <span class="route-tag">Premium Service</span>
              <span class="route-tag">WiFi Available</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Route Group 2 -->
    <div class="route-group">
      <h3 class="route-group-title">
        <i class="fas fa-route" style="color: var(--gold); margin-right: 10px;"></i>
        Route Group 2: Akkaraipattu to Colombo Route
      </h3>
      <div class="route-cards">
        <!-- RS Express -->
        <div class="route-card">
          <div class="route-card-header">
            <h4>RS Express</h4>
            <div class="route-price">LKR 2,900<span>/seat</span></div>
          </div>
          <div class="route-details">
            <div class="route-stops">
              <div class="route-stop start">
                <i class="fas fa-map-marker-alt"></i>
                <span>Akkaraipattu</span>
              </div>
              <div class="route-stops-list">
                <span>Nintavur</span>
                <span>Kalmunai</span>
                <span>Maruthamunai</span>
                <span>Batticaloa</span>
                <span>Polonaruwa</span>
                <span>Kattunayaka Airport</span>
                <span>Orugudwaththa</span>
                <span>Wellampitiya</span>
                <span>Kolonnawa</span>
                <span>Rajagiriya</span>
                <span>Mardana</span>
                <span>Kolluppitiya</span>
                <span>Wellwaththa</span>
              </div>
              <div class="route-stop end">
                <i class="fas fa-flag-checkered"></i>
                <span>Dehiwala</span>
              </div>
            </div>
            <div class="route-tags">
              <span class="route-tag">Executive Class</span>
              <span class="route-tag">Priority Boarding</span>
            </div>
          </div>
        </div>
        
        <!-- Lloyds Travels -->
        <div class="route-card">
          <div class="route-card-header">
            <h4>Lloyds Travels</h4>
            <div class="route-price">LKR 2,700<span>/seat</span></div>
          </div>
          <div class="route-details">
            <div class="route-stops">
              <div class="route-stop start">
                <i class="fas fa-map-marker-alt"></i>
                <span>Akkaraipattu</span>
              </div>
              <div class="route-stops-list">
                <span>Nintavur</span>
                <span>Kalmunai</span>
                <span>Maruthamunai</span>
                <span>Batticaloa</span>
                <span>Polonaruwa</span>
                <span>Kattunayaka Airport</span>
                <span>Orugudwaththa</span>
                <span>Wellampitiya</span>
                <span>Kolonnawa</span>
                <span>Rajagiriya</span>
                <span>Mardana</span>
                <span>Kolluppitiya</span>
                <span>Wellwaththa</span>
              </div>
              <div class="route-stop end">
                <i class="fas fa-flag-checkered"></i>
                <span>Dehiwala</span>
              </div>
            </div>
            <div class="route-tags">
              <span class="route-tag">Premium Service</span>
              <span class="route-tag">Family Friendly</span>
            </div>
          </div>
        </div>
        
        <!-- Super Line -->
        <div class="route-card">
          <div class="route-card-header">
            <h4>Super Line</h4>
            <div class="route-price">LKR 2,700<span>/seat</span></div>
          </div>
          <div class="route-details">
            <div class="route-stops">
              <div class="route-stop start">
                <i class="fas fa-map-marker-alt"></i>
                <span>Akkaraipattu</span>
              </div>
              <div class="route-stops-list">
                <span>Nintavur</span>
                <span>Kalmunai</span>
                <span>Maruthamunai</span>
                <span>Batticaloa</span>
                <span>Polonaruwa</span>
                <span>Kattunayaka Airport</span>
                <span>Orugudwaththa</span>
                <span>Wellampitiya</span>
                <span>Kolonnawa</span>
                <span>Rajagiriya</span>
                <span>Mardana</span>
                <span>Kolluppitiya</span>
                <span>Wellwaththa</span>
              </div>
              <div class="route-stop end">
                <i class="fas fa-flag-checkered"></i>
                <span>Dehiwala</span>
              </div>
            </div>
            <div class="route-tags">
              <span class="route-tag">Economy Class</span>
              <span class="route-tag">Air Conditioned</span>
            </div>
          </div>
        </div>
        
        <!-- Star Travels -->
        <div class="route-card">
          <div class="route-card-header">
            <h4>Star Travels</h4>
            <div class="route-price">LKR 1,600<span>/seat</span></div>
          </div>
          <div class="route-details">
            <div class="route-stops">
              <div class="route-stop start">
                <i class="fas fa-map-marker-alt"></i>
                <span>Akkaraipattu</span>
              </div>
              <div class="route-stops-list">
                <span>Nintavur</span>
                <span>Kalmunai</span>
                <span>Maruthamunai</span>
                <span>Batticaloa</span>
                <span>Polonaruwa</span>
                <span>Kattunayaka Airport</span>
                <span>Orugudwaththa</span>
                <span>Wellampitiya</span>
                <span>Kolonnawa</span>
                <span>Rajagiriya</span>
                <span>Mardana</span>
                <span>Kolluppitiya</span>
                <span>Wellwaththa</span>
              </div>
              <div class="route-stop end">
                <i class="fas fa-flag-checkered"></i>
                <span>Dehiwala</span>
              </div>
            </div>
            <div class="route-tags">
              <span class="route-tag">Economy Service</span>
              <span class="route-tag">Budget Friendly</span>
            </div>
          </div>
        </div>
        
        <!-- Al Rashith -->
        <div class="route-card">
          <div class="route-card-header">
            <h4>Al Rashith</h4>
            <div class="route-price">LKR 2,700<span>/seat</span></div>
          </div>
          <div class="route-details">
            <div class="route-stops">
              <div class="route-stop start">
                <i class="fas fa-map-marker-alt"></i>
                <span>Akkaraipattu</span>
              </div>
              <div class="route-stops-list">
                <span>Nintavur</span>
                <span>Kalmunai</span>
                <span>Maruthamunai</span>
                <span>Batticaloa</span>
                <span>Polonaruwa</span>
                <span>Kattunayaka Airport</span>
                <span>Orugudwaththa</span>
                <span>Wellampitiya</span>
                <span>Kolonnawa</span>
                <span>Rajagiriya</span>
                <span>Mardana</span>
                <span>Kolluppitiya</span>
                <span>Wellwaththa</span>
              </div>
              <div class="route-stop end">
                <i class="fas fa-flag-checkered"></i>
                <span>Dehiwala</span>
              </div>
            </div>
            <div class="route-tags">
              <span class="route-tag">Premium Service</span>
              <span class="route-tag">Entertainment</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Route Group 3 -->
    <div class="route-group">
      <h3 class="route-group-title">
        <i class="fas fa-route" style="color: var(--gold); margin-right: 10px;"></i>
        Route Group 3: Southern Express Route via Akkaraipattu
      </h3>
      <div class="route-cards">
        <!-- Al Ahla -->
        <div class="route-card featured">
          <div class="featured-badge">
            <i class="fas fa-crown"></i> Southern Express Route
          </div>
          <div class="route-card-header">
            <h4>Al Ahla</h4>
            <div class="route-price">LKR 2,800<span>/seat</span></div>
          </div>
          <div class="route-details">
            <div class="route-stops">
              <div class="route-stop start">
                <i class="fas fa-map-marker-alt"></i>
                <span>Akkaraipattu</span>
              </div>
              <div class="route-stops-list">
                <span>Sammanthurai</span>
                <span>Nintavur</span>
                <span>Kalmunai</span>
                <span>Maruthamunai</span>
                <span>Southern Express</span>
                <span>Kattunayaka Airport</span>
                <span>Orugudwaththa</span>
                <span>Wellampitiya</span>
                <span>Kolonnawa</span>
                <span>Rajagiriya</span>
                <span>Mardana</span>
                <span>Kolluppitiya</span>
                <span>Wellwaththa</span>
              </div>
              <div class="route-stop end">
                <i class="fas fa-flag-checkered"></i>
                <span>Dehiwala</span>
              </div>
            </div>
            <div class="route-tags">
              <span class="route-tag">Express Service</span>
              <span class="route-tag">Southern Highway</span>
              <span class="route-tag">Premium Comfort</span>
            </div>
            <div class="route-highlight">
              <i class="fas fa-bolt"></i>
              <span>Southern Express route for faster travel</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Route Map Visualization -->
    <div class="route-map-container">
      <h3 class="route-map-title">
        <i class="fas fa-map" style="color: var(--gold); margin-right: 10px;"></i>
        Route Visualization
      </h3>
      <div class="route-map">
        <div class="map-timeline">
          <div class="map-stop start">
            <div class="map-stop-dot"></div>
            <div class="map-stop-label">Eastern Start</div>
            <div class="map-stop-cities">Sammanthurai/Akkaraipattu</div>
          </div>
          
          <div class="map-route-line"></div>
          
          <div class="map-stop">
            <div class="map-stop-dot"></div>
            <div class="map-stop-label">Major Cities</div>
            <div class="map-stop-cities">Nintavur, Kalmunai, Maruthamunai</div>
          </div>
          
          <div class="map-route-line"></div>
          
          <div class="map-stop">
            <div class="map-stop-dot"></div>
            <div class="map-stop-label">Batticaloa</div>
            <div class="map-stop-cities">City Center</div>
          </div>
          
          <div class="map-route-line"></div>
          
          <div class="map-stop">
            <div class="map-stop-dot"></div>
            <div class="map-stop-label">Polonaruwa</div>
            <div class="map-stop-cities">Ancient City</div>
          </div>
          
          <div class="map-route-line"></div>
          
          <div class="map-stop airport">
            <div class="map-stop-dot"></div>
            <div class="map-stop-label">Airport</div>
            <div class="map-stop-cities">Kattunayaka (BIA)</div>
          </div>
          
          <div class="map-route-line"></div>
          
          <div class="map-stop">
            <div class="map-stop-dot"></div>
            <div class="map-stop-label">Colombo Entry</div>
            <div class="map-stop-cities">Orugudwaththa, Wellampitiya</div>
          </div>
          
          <div class="map-route-line"></div>
          
          <div class="map-stop end">
            <div class="map-stop-dot"></div>
            <div class="map-stop-label">Final Destination</div>
            <div class="map-stop-cities">Dehiwala</div>
          </div>
        </div>
      </div>
      
      <div class="route-summary">
        <div class="summary-card">
          <i class="fas fa-clock"></i>
          <div class="summary-content">
            <h4>Journey Duration</h4>
            <p>Approximately 8-10 hours depending on traffic</p>
          </div>
        </div>
        
        <div class="summary-card">
          <i class="fas fa-road"></i>
          <div class="summary-content">
            <h4>Total Distance</h4>
            <p>~350-400 km depending on route</p>
          </div>
        </div>
        
        <div class="summary-card">
          <i class="fas fa-bus"></i>
          <div class="summary-content">
            <h4>Services Available</h4>
            <p>8 premium bus services</p>
          </div>
        </div>
        
        <div class="summary-card">
          <i class="fas fa-money-bill-wave"></i>
          <div class="summary-content">
            <h4>Price Range</h4>
            <p>LKR 1,600 - LKR 2,900 per seat</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Fleet Section -->
<section class="fleet-section" id="fleet">
  <div class="fleet-background"></div>
  <div class="fleet-content">
    <div class="fleet-info">
      <h2>Curated <span>Fleet</span> of Modern Coaches.</h2>
      
      <div class="fleet-list">
        <div class="fleet-item">
          <div class="fleet-number">01</div>
          <div class="fleet-details">
            <h3>Executive Class</h3>
            <p class="fleet-description">Luxury coaches with extra legroom, premium seating and onboard entertainment.</p>
            <div class="fleet-tags">
              <span class="fleet-tag">WiFi</span>
              <span class="fleet-tag">USB Charging</span>
              <span class="fleet-tag">Refreshments</span>
            </div>
          </div>
        </div>
        
        <div class="fleet-item">
          <div class="fleet-number">02</div>
          <div class="fleet-details">
            <h3>Express Service</h3>
            <p class="fleet-description">Direct routes with minimal stops for faster travel between major cities.</p>
            <div class="fleet-tags">
              <span class="fleet-tag">Direct Route</span>
              <span class="fleet-tag">Priority Boarding</span>
              <span class="fleet-tag">Air Conditioned</span>
            </div>
          </div>
        </div>
        
        <div class="fleet-item">
          <div class="fleet-number">03</div>
          <div class="fleet-details">
            <h3>Family Coach</h3>
            <p class="fleet-description">Spacious seating perfect for family travel with child-friendly amenities.</p>
            <div class="fleet-tags">
              <span class="fleet-tag">Family Seating</span>
              <span class="fleet-tag">Storage Space</span>
              <span class="fleet-tag">Entertainment</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="fleet-image">
      <img src="https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?auto=format&fit=crop&q=80&w=1200" alt="Elite Coach Interior">
      <div class="fleet-badge">
        <p>Premium<br/>Hospitality</p>
      </div>
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="elite-footer">
  <div class="footer-content">
    <div class="footer-brand">
      <div class="footer-logo">
        <i class="fas fa-bus footer-logo-icon"></i>
        <span class="footer-logo-text">LAGAN<span>BUS</span></span>
      </div>
      <p class="footer-description">
        Pioneering luxury travel in Sri Lanka. We don't just move people; we create memories through comfort and reliability since 2010.
      </p>
      <div class="footer-social">
        <a href="#" class="social-link">FB</a>
        <a href="#" class="social-link">IG</a>
        <a href="#" class="social-link">TW</a>
        <a href="#" class="social-link">LI</a>
      </div>
    </div>
    
    <div class="footer-column">
      <h4>Navigation</h4>
      <ul class="footer-links">
        <li><a href="#fleet">Our Fleet</a></li>
        <li><a href="#safety">Safety</a></li>
        <li><a href="#routes">Routes</a></li>
        <li><a href="#support" onclick="toggleSupportPanel(); return false;">Support</a></li>
      </ul>
    </div>
    
    <div class="footer-column">
      <h4>Headquarters</h4>
      <div class="footer-contact">
        <div class="contact-item">
          <div class="contact-divider"></div>
          <div class="contact-text">
            Nintavur Main Road,<br/>
            In front of HNB Bank,<br/>
            Eastern Province
          </div>
        </div>
        <div class="contact-item">
          <div class="contact-divider"></div>
          <div class="contact-phone">+94 701 362 527</div>
        </div>
      </div>
    </div>
  </div>
  
  <div class="footer-bottom">
    <p class="copyright"> 2024 Lagan Bus Services. All Rights Reserved.</p>
    <div class="developer-badge">
      <i class="fas fa-code"></i>
      Designed by <strong>Wedoxa Intelligence</strong>
    </div>
  </div>
</footer>

<script>
// ============ CONFIGURATION ============
// REPLACE THIS URL WITH YOUR GOOGLE APPS SCRIPT URL
const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbx2R2ECYJKYUZYhchKU-BRUXpCG5eedcE-hAGbZ0csLX9hmSaEJNFUGwsNgsoQAZwV1zg/exec";

const ADMIN_WHATSAPP_NUMBER = "94701362527";

// Bus pricing data (per seat) - For new booking calculations only
const busPrices = {
    "Sakeer Express": 2700,
    "RS Express": 2900,
    "Myown Express": 2700,
    "Al Ahla": 2800,
    "Al Rashith": 2700,
    "Star Travels": 1600,
    "Lloyds Travels": 2700,
    "Super Line": 2700
};

// Bank details
const bankDetails = {
    bankName: "Hatton National Bank (HNB)",
    accountName: "MOHAMED FAWAS MT",
    accountNumber: "159020046687",
    branch: "Nintavur Branch",
    reference: "Your Name + Phone"
};

// State management
let currentBookingData = null;
let isLoading = false;

// ============ INITIALIZATION ============
document.addEventListener('DOMContentLoaded', function() {
  console.log('Lagan Bus Booking System Initializing...');
  
  // Set light theme by default
  document.documentElement.setAttribute('data-theme', 'light');
  document.getElementById('themeIcon').className = 'fas fa-moon';
  localStorage.setItem('lagan-theme', 'light');
  
  // Set date restrictions
  const today = new Date().toISOString().split('T')[0];
  document.getElementById('travelDate').min = today;
  
  // Set default date to tomorrow
  const tomorrow = new Date();
  tomorrow.setDate(tomorrow.getDate() + 1);
  document.getElementById('travelDate').value = tomorrow.toISOString().split('T')[0];
  
  // Phone number formatting
  document.getElementById('checkPhone').addEventListener('input', formatPhone);
  document.getElementById('passengerPhone').addEventListener('input', formatPhone);
  
  // Cost calculation (for new booking tab only)
  document.getElementById('busName').addEventListener('change', calculateTotalCost);
  document.getElementById('seatCount').addEventListener('change', calculateTotalCost);
  
  // Event listeners
  document.getElementById('checkBtn').addEventListener('click', checkBooking);
  document.getElementById('downloadTicketBtn').addEventListener('click', downloadTicket);
  document.getElementById('whatsappSubmitBtn').addEventListener('click', submitBooking);
  document.getElementById('themeToggle').addEventListener('click', toggleTheme);
  document.getElementById('mobileMenuBtn').addEventListener('click', toggleMobileMenu);
  document.getElementById('scrollToTop').addEventListener('click', scrollToTop);
  document.getElementById('showBankDetailsBtn').addEventListener('click', showBankDetailsModal);
  
  // Create particles
  createParticles();
  
  // Auto-hide welcome overlay
  setTimeout(() => {
    const welcomeOverlay = document.getElementById('welcomeOverlay');
    if (welcomeOverlay) {
      welcomeOverlay.style.opacity = '0';
      setTimeout(() => {
        welcomeOverlay.style.display = 'none';
      }, 500);
    }
  }, 1500);
  
  // Nav scroll effect
  window.addEventListener('scroll', function() {
    const nav = document.getElementById('eliteNav');
    const scrollTopBtn = document.getElementById('scrollToTop');
    
    if (window.scrollY > 50) {
      nav.classList.add('scrolled');
    } else {
      nav.classList.remove('scrolled');
    }
    
    // Show/hide scroll to top button
    if (window.scrollY > 300) {
      scrollTopBtn.classList.add('visible');
    } else {
      scrollTopBtn.classList.remove('visible');
    }
  });
  
  // Close mobile menu when clicking outside
  document.addEventListener('click', function(event) {
    const mobileMenu = document.getElementById('mobileNavLinks');
    const mobileBtn = document.getElementById('mobileMenuBtn');
    
    if (mobileMenu && mobileBtn && 
        !mobileMenu.contains(event.target) && 
        !mobileBtn.contains(event.target) &&
        mobileMenu.classList.contains('active')) {
      closeMobileMenu();
    }
  });
  
  console.log(' System initialization complete');
});

// ============ CORE FUNCTIONS ============

function openAdminWhatsApp() {
  const message = "Hi Lagan Bus Services, I need assistance with bus booking";
  const whatsappUrl = `https://wa.me/${ADMIN_WHATSAPP_NUMBER}?text=${encodeURIComponent(message)}`;
  window.open(whatsappUrl, '_blank');
}

function createParticles() {
  const particlesContainer = document.getElementById('particles');
  if (!particlesContainer) return;
  
  for (let i = 0; i < 20; i++) {
    const particle = document.createElement('div');
    particle.className = 'particle';
    
    const size = Math.random() * 4 + 1;
    const posX = Math.random() * 100;
    const duration = Math.random() * 10 + 10;
    const delay = Math.random() * 5;
    
    particle.style.width = `${size}px`;
    particle.style.height = `${size}px`;
    particle.style.left = `${posX}%`;
    particle.style.animationDuration = `${duration}s`;
    particle.style.animationDelay = `${delay}s`;
    particle.style.opacity = Math.random() * 0.5 + 0.2;
    
    particlesContainer.appendChild(particle);
  }
}

function toggleSupportPanel() {
  const panel = document.getElementById('supportPanel');
  panel.classList.toggle('open');
}

function scrollToTop() {
  window.scrollTo({
    top: 0,
    behavior: 'smooth'
  });
}

function toggleMobileMenu() {
  const mobileMenu = document.getElementById('mobileNavLinks');
  if (mobileMenu) {
    mobileMenu.classList.toggle('active');
  }
}

function closeMobileMenu() {
  const mobileMenu = document.getElementById('mobileNavLinks');
  if (mobileMenu) {
    mobileMenu.classList.remove('active');
  }
}

function calculateTotalCost() {
    // This is only for NEW BOOKING tab, not for check booking
    const busSelect = document.getElementById('busName');
    const seatSelect = document.getElementById('seatCount');
    const totalCostElement = document.getElementById('totalCostDisplay');
    
    if (!busSelect || !seatSelect || !totalCostElement) return;
    
    const selectedBus = busSelect.value;
    const selectedSeats = parseInt(seatSelect.value) || 0;
    
    if (selectedBus && selectedSeats > 0) {
        const pricePerSeat = busPrices[selectedBus] || 0;
        const totalCost = pricePerSeat * selectedSeats;
        
        totalCostElement.innerHTML = `
            <div class="cost-row">
                <span class="cost-label">Bus Service:</span>
                <span class="cost-value">${selectedBus}</span>
            </div>
            <div class="cost-row">
                <span class="cost-label">Price per Seat:</span>
                <span class="cost-value">LKR ${pricePerSeat.toLocaleString()}</span>
            </div>
            <div class="cost-row">
                <span class="cost-label">Seats Requested:</span>
                <span class="cost-value">${selectedSeats}</span>
            </div>
            <div class="cost-total">
                <span class="total-label">Estimated Total:</span>
                <span class="total-amount">LKR ${totalCost.toLocaleString()}</span>
            </div>
            <div style="margin-top: 10px; padding: 10px; background: rgba(245, 158, 11, 0.1); border-radius: 8px; font-size: 0.85rem;">
                <i class="fas fa-info-circle" style="color: #F59E0B;"></i>
                <span style="color: var(--text-primary);">Admin will assign exact seat numbers and final amount</span>
            </div>
        `;
    } else {
        totalCostElement.innerHTML = '';
    }
}

async function showBankDetailsModal() {
    const busSelect = document.getElementById('busName');
    const seatSelect = document.getElementById('seatCount');
    const selectedBus = busSelect?.value;
    const selectedSeats = parseInt(seatSelect?.value) || 0;
    const pricePerSeat = busPrices[selectedBus] || 0;
    const totalCost = pricePerSeat * selectedSeats;
    
    Swal.fire({
        title: 'Secure Payment Details',
        html: `
            <div style="text-align: left; font-size: 0.95rem;">
                <p style="text-align: center; color: var(--primary); font-weight: 700; margin-bottom: 1.5rem; font-size: 1.1rem;">
                    Please transfer <strong>LKR ${totalCost.toLocaleString()}</strong> (estimated) to:
                </p>
                
                <div style="background: rgba(16, 185, 129, 0.1); padding: 15px; border-radius: 12px; margin-bottom: 15px; border-left: 4px solid var(--secondary);">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="color: var(--secondary); font-weight: 700;">Bank Account Information</h4>
                        <button type="button" onclick="copyAllBankDetails()" class="copy-all-btn" style="padding: 8px 16px; font-size: 0.85rem; background: var(--gradient-primary); color: white; border: none; border-radius: 8px; font-weight: 700; cursor: pointer;">
                            <i class="fas fa-copy"></i> Copy All
                        </button>
                    </div>
                    
                    <div class="bank-details-container" id="bankDetailsContainer">
                        <div class="copy-able-field" onclick="copyToClipboard('${bankDetails.bankName}', 'Bank Name')" style="display: flex; align-items: center; justify-content: space-between; padding: 10px 12px; background: rgba(255, 255, 255, 0.1); border-radius: 8px; margin-bottom: 8px; border: 1px solid rgba(255, 255, 255, 0.2); cursor: pointer; transition: all 0.2s ease;">
                            <span class="field-label" style="font-size: 0.9rem; font-weight: 600; color: var(--text-primary); min-width: 120px;">Bank Name</span>
                            <span class="field-value" style="flex: 1; font-size: 0.95rem; font-weight: 700; color: var(--primary); text-align: right; word-break: break-all; padding: 0 10px;">${bankDetails.bankName}</span>
                            <i class="copy-icon fas fa-copy" style="color: var(--gray); font-size: 0.9rem; transition: color 0.2s ease;"></i>
                        </div>
                        <div class="copy-able-field" onclick="copyToClipboard('${bankDetails.accountName}', 'Account Name')" style="display: flex; align-items: center; justify-content: space-between; padding: 10px 12px; background: rgba(255, 255, 255, 0.1); border-radius: 8px; margin-bottom: 8px; border: 1px solid rgba(255, 255, 255, 0.2); cursor: pointer; transition: all 0.2s ease;">
                            <span class="field-label" style="font-size: 0.9rem; font-weight: 600; color: var(--text-primary); min-width: 120px;">Account Name</span>
                            <span class="field-value" style="flex: 1; font-size: 0.95rem; font-weight: 700; color: var(--primary); text-align: right; word-break: break-all; padding: 0 10px;">${bankDetails.accountName}</span>
                            <i class="copy-icon fas fa-copy" style="color: var(--gray); font-size: 0.9rem; transition: color 0.2s ease;"></i>
                        </div>
                        <div class="copy-able-field" onclick="copyToClipboard('${bankDetails.accountNumber}', 'Account Number')" style="display: flex; align-items: center; justify-content: space-between; padding: 10px 12px; background: rgba(255, 255, 255, 0.1); border-radius: 8px; margin-bottom: 8px; border: 1px solid rgba(255, 255, 255, 0.2); cursor: pointer; transition: all 0.2s ease;">
                            <span class="field-label" style="font-size: 0.9rem; font-weight: 600; color: var(--text-primary); min-width: 120px;">Account Number</span>
                            <span class="field-value" style="flex: 1; font-size: 0.95rem; font-weight: 700; color: var(--primary); text-align: right; word-break: break-all; padding: 0 10px;">${bankDetails.accountNumber}</span>
                            <i class="copy-icon fas fa-copy" style="color: var(--gray); font-size: 0.9rem; transition: color 0.2s ease;"></i>
                        </div>
                        <div class="copy-able-field" onclick="copyToClipboard('${bankDetails.branch}', 'Branch')" style="display: flex; align-items: center; justify-content: space-between; padding: 10px 12px; background: rgba(255, 255, 255, 0.1); border-radius: 8px; margin-bottom: 8px; border: 1px solid rgba(255, 255, 255, 0.2); cursor: pointer; transition: all 0.2s ease;">
                            <span class="field-label" style="font-size: 0.9rem; font-weight: 600; color: var(--text-primary); min-width: 120px;">Branch</span>
                            <span class="field-value" style="flex: 1; font-size: 0.95rem; font-weight: 700; color: var(--primary); text-align: right; word-break: break-all; padding: 0 10px;">${bankDetails.branch}</span>
                            <i class="copy-icon fas fa-copy" style="color: var(--gray); font-size: 0.9rem; transition: color 0.2s ease;"></i>
                        </div>
                    </div>
                </div>
                
                <div style="background: rgba(245, 158, 11, 0.1); padding: 12px; border-radius: 8px; border-left: 4px solid #F59E0B; margin-bottom: 15px;">
                    <p style="color: var(--warning); font-weight: 600; margin-bottom: 8px;">
                        <i class="fas fa-lightbulb"></i> Important Instructions:
                    </p>
                    <div style="color: var(--text-primary); font-size: 0.9rem; line-height: 1.5;">
                        <p style="margin-bottom: 5px;">
                             Transfer the <strong>estimated amount shown above</strong>
                        </p>
                        <p style="margin-bottom: 5px;">
                             Use <strong>Your Name + Phone Number</strong> as reference
                        </p>
                        <p style="margin-bottom: 5px;">
                             Admin will confirm exact seat numbers and final amount
                        </p>
                        <p>
                             Attach payment slip to WhatsApp message after booking
                        </p>
                    </div>
                </div>
                
                <div style="background: rgba(216, 179, 93, 0.1); padding: 12px; border-radius: 8px; border-left: 4px solid var(--gold);">
                    <p style="color: var(--gold); font-weight: 600; margin-bottom: 8px;">
                        <i class="fas fa-clock"></i> Boarding Reminder:
                    </p>
                    <div style="color: var(--text-primary); font-size: 0.9rem; line-height: 1.5;">
                        <p>
                            <strong>Arrive 15 minutes before departure</strong> at the pickup point with your booking confirmation.
                        </p>
                    </div>
                </div>
            </div>
        `,
        width: window.innerWidth < 768 ? '95vw' : '600px',
        background: 'var(--card)',
        color: 'var(--text-primary)',
        confirmButtonText: 'Close',
        confirmButtonColor: 'var(--primary)',
        showCloseButton: true,
        didOpen: () => {
            window.bankDetailsText = `Estimated Amount: LKR ${totalCost.toLocaleString()}
Bank: ${bankDetails.bankName}
Account Name: ${bankDetails.accountName}
Account Number: ${bankDetails.accountNumber}
Branch: ${bankDetails.branch}
Reference: Your Name + Phone Number
Note: Admin will confirm exact seat numbers and final amount
Important: Arrive 15 minutes before departure`;
        }
    });
}

async function copyToClipboard(text, label = '') {
    try {
        await navigator.clipboard.writeText(text);
        
        const message = document.createElement('div');
        message.className = 'copied-message';
        message.innerHTML = `<i class="fas fa-check-circle"></i> Copied: ${label}`;
        document.body.appendChild(message);
        
        setTimeout(() => {
            message.classList.add('show');
        }, 10);
        
        setTimeout(() => {
            message.classList.remove('show');
            setTimeout(() => {
                if (message.parentNode) {
                    document.body.removeChild(message);
                }
            }, 300);
        }, 2000);
        
    } catch (err) {
        console.error('Failed to copy: ', err);
        const textArea = document.createElement('textarea');
        textArea.value = text;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand('copy');
        document.body.removeChild(textArea);
        
        showToast('Copied to clipboard!', 'success');
    }
}

async function copyAllBankDetails() {
    if (window.bankDetailsText) {
        await copyToClipboard(window.bankDetailsText, 'All Bank Details');
    }
}

function showLoading(message = 'Processing...') {
  if (isLoading) return;
  
  isLoading = true;
  const loadingOverlay = document.getElementById('loadingOverlay');
  const loadingText = document.getElementById('loadingText');
  
  if (loadingOverlay && loadingText) {
    loadingText.textContent = message;
    loadingOverlay.classList.add('active');
    document.body.style.overflow = 'hidden';
  }
  
  document.getElementById('checkBtn')?.setAttribute('disabled', 'true');
  document.getElementById('whatsappSubmitBtn')?.setAttribute('disabled', 'true');
  document.getElementById('downloadTicketBtn')?.setAttribute('disabled', 'true');
}

function hideLoading() {
  isLoading = false;
  const loadingOverlay = document.getElementById('loadingOverlay');
  if (loadingOverlay) {
    loadingOverlay.classList.remove('active');
    document.body.style.overflow = '';
  }
  
  document.getElementById('checkBtn')?.removeAttribute('disabled');
  document.getElementById('whatsappSubmitBtn')?.removeAttribute('disabled');
  document.getElementById('downloadTicketBtn')?.removeAttribute('disabled');
}

function toggleTheme() {
  const currentTheme = document.documentElement.getAttribute('data-theme');
  const newTheme = currentTheme === 'light' ? 'dark' : 'light';
  
  document.documentElement.setAttribute('data-theme', newTheme);
  localStorage.setItem('lagan-theme', newTheme);
  
  if (newTheme === 'dark') {
    document.getElementById('themeIcon').className = 'fas fa-sun';
  } else {
    document.getElementById('themeIcon').className = 'fas fa-moon';
  }
  
  const themeBtn = document.getElementById('themeToggle');
  if (themeBtn) {
    themeBtn.style.transform = 'rotate(180deg) scale(0.9)';
    setTimeout(() => {
      themeBtn.style.transform = 'rotate(360deg) scale(1)';
    }, 300);
  }
}

function switchTab(tabId) {
  if (isLoading) return;
  
  document.querySelectorAll('.portal-tab').forEach(btn => btn.classList.remove('active'));
  document.querySelectorAll('.portal-tab-content').forEach(content => content.style.display = 'none');
  
  document.querySelectorAll('.portal-tab').forEach((btn, index) => {
    if (btn.getAttribute('onclick')?.includes(tabId)) {
      btn.classList.add('active');
    }
  });
  
  const tabContent = document.getElementById(tabId);
  if (tabContent) {
    tabContent.style.display = 'block';
  }
  
  if (tabId === 'checkTab') {
    const initialState = document.getElementById('initialState');
    const ticketCard = document.getElementById('ticketCard');
    if (initialState) initialState.style.display = 'block';
    if (ticketCard) ticketCard.style.display = 'none';
  }
  
  document.getElementById('booking-portal').scrollIntoView({ behavior: 'smooth' });
  closeMobileMenu();
}

function formatPhone(e) {
  let value = e.target.value.replace(/\D/g, '');
  if (value.length > 10) value = value.substring(0, 10);
  e.target.value = value;
}

// ============ BOOKING FUNCTIONS ============

async function checkBooking() {
  console.log('Checking booking...');
  
  const phone = document.getElementById('checkPhone').value.trim();
  const btn = document.getElementById('checkBtn');
  
  if (!phone || phone.length < 9) {
    showToast('Please enter a valid 10-digit phone number', 'warning');
    vibrate();
    return;
  }
  
  const originalText = btn.innerHTML;
  btn.innerHTML = '<i class="fas fa-bus"></i> Searching...';
  btn.disabled = true;
  
  showLoading('Searching for booking...');
  
  try {
    console.log('Searching for phone:', phone);
    
    const response = await fetch(GOOGLE_SCRIPT_URL + `?phone=${phone}&method=search`);
    const data = await response.json();
    
    if (data.success && data.booking) {
      console.log('Booking found:', data.booking);
      
      displayBookingDetails(data.booking);
      
      showToast('Booking found!', 'success');
      
    } else {
      showToast(data.message || 'No booking found', 'info');
      
      const ticketCard = document.getElementById('ticketCard');
      const initialState = document.getElementById('initialState');
      if (ticketCard) ticketCard.style.display = 'none';
      if (initialState) initialState.style.display = 'block';
    }
    
  } catch (error) {
    console.error('Error checking booking:', error);
    showToast('Error connecting to server. Please try again.', 'error');
    vibrate();
  } finally {
    hideLoading();
    btn.innerHTML = originalText;
    btn.disabled = false;
  }
}

function displayBookingDetails(booking) {
  console.log('Displaying booking details:', booking);
  
  const name = booking.Name || 'Not Provided';
  const bus = booking.Bus || 'Not Assigned';
  const date = booking.Date || '';
  const time = booking.Time || '';
  
  // Get seat numbers EXACTLY as admin entered
  const seatNumbers = booking.SeatNumbers || '';
  
  // Get pickup and destination
  const pickup = booking.Pickup || 'Not Specified';
  const destination = booking.Destination || 'Not Specified';
  
  // Get payment info EXACTLY as admin entered
  const paymentInfo = booking.Payment || 'Payment Pending';
  const totalAmount = booking.TotalAmount || 0;
  const paymentStatus = booking.PaymentStatus || 'Payment Pending';
  
  const bookingId = booking['Booking ID'] || 'N/A';
  const phone = booking.Phone || document.getElementById('checkPhone')?.value.trim() || '';
  
  // Format date and time
  let displayDateTime = '-';
  if (date && time) {
    // Format time (remove any . and replace with :)
    const formattedTime = time.replace(/\./g, ':');
    displayDateTime = `${date} ${formattedTime}`;
  } else if (date) {
    displayDateTime = date;
  } else if (time) {
    displayDateTime = time.replace(/\./g, ':');
  }
  
  const routeDisplay = `${pickup}  ${destination}`;
  
  // Update UI with EXACT data from sheet
  document.getElementById('displayPassengerName').textContent = name;
  document.getElementById('displayBookingId').textContent = `Booking ID: ${bookingId}`;
  document.getElementById('displayBusName').textContent = bus;
  document.getElementById('displayDateTime').textContent = displayDateTime;
  document.getElementById('displayRoute').textContent = routeDisplay;
  
  // Show EXACT seat numbers (e.g., "10,11,12", "5.07", "27")
  document.getElementById('displaySeatNumbers').textContent = seatNumbers || 'To be assigned';
  
  // Show payment status
  const paymentStatusElement = document.getElementById('displayPaymentStatus');
  if (paymentStatusElement) {
    paymentStatusElement.textContent = paymentStatus;
    
    if (paymentStatus.toLowerCase().includes('paid') || 
        paymentStatus.toLowerCase().includes('done')) {
      paymentStatusElement.className = 'detail-value paid';
    } else if (paymentStatus.toLowerCase().includes('not paid') || 
               paymentStatus.toLowerCase().includes('pending')) {
      paymentStatusElement.className = 'detail-value pending';
    } else {
      paymentStatusElement.className = 'detail-value';
    }
  }
  
  // Show EXACT total amount from sheet
  const totalAmountElement = document.getElementById('displayTotalAmount');
  if (totalAmountElement) {
    if (totalAmount > 0) {
      totalAmountElement.textContent = `LKR ${totalAmount.toLocaleString()}`;
    } else {
      // Try to extract amount from payment info string
      const amountMatch = paymentInfo.match(/(\d+(?:,\d+)*(?:\.\d+)?)/);
      if (amountMatch) {
        const extractedAmount = parseFloat(amountMatch[1].replace(/,/g, ''));
        totalAmountElement.textContent = `LKR ${extractedAmount.toLocaleString()}`;
      } else {
        totalAmountElement.textContent = paymentInfo;
      }
    }
  }
  
  // Show ticket
  document.getElementById('ticketCard').style.display = 'block';
  document.getElementById('initialState').style.display = 'none';
  
  // Store current booking data for PDF download
  currentBookingData = {
    name, 
    bus, 
    date: displayDateTime, 
    pickup, 
    destination, 
    route: routeDisplay,
    seatNumbers,
    paymentInfo,
    totalAmount,
    paymentStatus,
    bookingId, 
    phone
  };
  
  console.log('Current booking data stored:', currentBookingData);
}

async function submitBooking() {
  if (isLoading) return;
  
  const formData = {
    name: document.getElementById('passengerName').value.trim(),
    phone: document.getElementById('passengerPhone').value.trim(),
    from: document.getElementById('fromLocation').value.trim(),
    to: document.getElementById('toLocation').value.trim(),
    date: document.getElementById('travelDate').value,
    bus: document.getElementById('busName').value,
    seats: document.getElementById('seatCount').value
  };
  
  const pricePerSeat = busPrices[formData.bus] || 0;
  const totalCost = pricePerSeat * parseInt(formData.seats);
  
  // Validation
  if (!formData.name || formData.name.length < 3) {
    showToast('Please enter your full name', 'warning');
    vibrate();
    return;
  }
  
  if (!formData.phone || formData.phone.length < 9) {
    showToast('Please enter a valid WhatsApp number', 'warning');
    vibrate();
    return;
  }
  
  if (!formData.from || !formData.to) {
    showToast('Please enter both origin and destination', 'warning');
    vibrate();
    return;
  }
  
  if (formData.from === formData.to) {
    showToast('Origin and destination cannot be the same', 'warning');
    vibrate();
    return;
  }
  
  if (!formData.date) {
    showToast('Please select travel date', 'warning');
    vibrate();
    return;
  }
  
  if (!formData.bus) {
    showToast('Please select a bus service', 'warning');
    vibrate();
    return;
  }
  
  if (!formData.seats) {
    showToast('Please select number of seats', 'warning');
    vibrate();
    return;
  }
  
  const dateObj = new Date(formData.date);
  const formattedDate = dateObj.toLocaleDateString('en-GB', {
    weekday: 'short',
    day: 'numeric',
    month: 'short',
    year: 'numeric'
  });
  
  const whatsappMessage = `*NEW LAGAN BUS BOOKING RESERVATION*%0A%0A` +
    ` *Passenger:* ${formData.name}%0A` +
    ` *Contact:* ${formData.phone}%0A` +
    ` *Route:* ${formData.from}  ${formData.to}%0A` +
    ` *Date:* ${formattedDate}%0A` +
    ` *Service:* ${formData.bus}%0A` +
    ` *Seats Requested:* ${formData.seats} seat${formData.seats > 1 ? 's' : ''}%0A` +
    ` *Estimated Cost:* LKR ${totalCost.toLocaleString()}%0A%0A` +
    ` *Payment Instructions:*%0A` +
    `Bank: ${bankDetails.bankName}%0A` +
    `Account: ${bankDetails.accountName}%0A` +
    `Account No: ${bankDetails.accountNumber}%0A` +
    `Branch: ${bankDetails.branch}%0A` +
    `Reference: ${formData.name} - ${formData.phone}%0A%0A` +
    ` *Payment Slip:* Please attach payment confirmation%0A` +
    ` *Boarding:* Arrive 15 minutes before departure%0A` +
    `_Note: Admin will assign exact seat numbers and confirm final amount_%0A` +
    `_Submitted via Lagan Bus Booking System_`;
  
  const { value: confirm } = await Swal.fire({
    icon: 'info',
    title: 'Booking Summary',
    html: `
      <div style="text-align: left; font-size: 1rem">
        <div style="background: rgba(16, 185, 129, 0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
          <h4 style="color: var(--secondary); margin-bottom: 10px; font-weight: 700;">Estimated Cost</h4>
          <div style="display: grid; grid-template-columns: 1fr; gap: 8px;">
            <div style="display: flex; justify-content: space-between;">
              <span style="color: var(--text-primary);">Bus Service:</span>
              <span style="color: var(--text-primary); font-weight: 600;">${formData.bus}</span>
            </div>
            <div style="display: flex; justify-content: space-between;">
              <span style="color: var(--text-primary);">Price per Seat:</span>
              <span style="color: var(--primary); font-weight: 600;">LKR ${pricePerSeat.toLocaleString()}</span>
            </div>
            <div style="display: flex; justify-content: space-between;">
              <span style="color: var(--text-primary);">Seats Requested:</span>
              <span style="color: var(--primary); font-weight: 600;">${formData.seats}</span>
            </div>
            <div style="display: flex; justify-content: space-between; padding-top: 8px; border-top: 1px solid rgba(16, 185, 129, 0.2);">
              <span style="color: var(--text-primary); font-weight: 700;">Estimated Total:</span>
              <span style="color: var(--secondary); font-weight: 800; font-size: 1.1rem;">LKR ${totalCost.toLocaleString()}</span>
            </div>
          </div>
          <div style="margin-top: 10px; padding: 8px; background: rgba(245, 158, 11, 0.1); border-radius: 6px;">
            <p style="color: var(--warning); font-size: 0.85rem; margin: 0;">
              <i class="fas fa-info-circle"></i> Admin will assign exact seat numbers and confirm final amount
            </p>
          </div>
        </div>
        
        <div style="background: rgba(245, 158, 11, 0.1); padding: 12px; border-radius: 8px; margin-bottom: 15px; border-left: 4px solid #F59E0B;">
          <strong style="color: var(--warning);">Important Steps:</strong>
          <div style="margin-top: 8px;">
            <p style="margin-bottom: 5px; font-size: 0.95rem;">
              <strong>1.</strong> Transfer <strong>LKR ${totalCost.toLocaleString()}</strong> to the provided account
            </p>
            <p style="margin-top: 8px; font-size: 0.95rem;">
              <strong>2.</strong> Take screenshot of payment slip<br>
              <strong>3.</strong> Attach it to WhatsApp message<br>
              <strong>4.</strong> Then send the complete message
            </p>
            <p style="margin-top: 8px; font-size: 0.95rem; color: var(--warning); font-weight: 600;">
              <i class="fas fa-clock"></i> Arrive 15 minutes before departure at pickup point
            </p>
          </div>
        </div>
      </div>
    `,
    showCancelButton: true,
    confirmButtonText: 'Continue to WhatsApp',
    cancelButtonText: 'Cancel',
    confirmButtonColor: '#25D366',
    background: 'var(--card)',
    color: 'var(--text-primary)',
    width: window.innerWidth < 768 ? '90vw' : '650px',
    backdrop: 'rgba(0, 0, 0, 0.3)'
  });
  
  if (confirm) {
    showLoading('Submitting booking...');
    
    try {
      const response = await fetch(GOOGLE_SCRIPT_URL, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/x-www-form-urlencoded',
        },
        body: new URLSearchParams({
          method: 'add',
          name: formData.name,
          phone: formData.phone,
          from: formData.from,
          to: formData.to,
          date: formData.date,
          bus: formData.bus,
          seats: formData.seats
        })
      });
      
      const data = await response.json();
      
      if (data.success) {
        const bookingId = data.bookingId || 'LGN-' + Date.now().toString().slice(-6);
        
        document.getElementById('bookingForm').reset();
        document.getElementById('totalCostDisplay').innerHTML = '';
        
        const tomorrow = new Date();
        tomorrow.setDate(tomorrow.getDate() + 1);
        document.getElementById('travelDate').value = tomorrow.toISOString().split('T')[0];
        
        hideLoading();
        
        const whatsappUrl = `https://wa.me/${ADMIN_WHATSAPP_NUMBER}?text=${whatsappMessage}`;
        const newWindow = window.open(whatsappUrl, '_blank');
        
        if (!newWindow) {
          showToast('Please allow popups to open WhatsApp', 'warning');
          Swal.fire({
            title: 'Copy WhatsApp Message',
            html: `<p>If WhatsApp didn't open automatically, copy this URL:</p>
                   <input type="text" value="${whatsappUrl}" readonly style="width:100%; padding:10px; margin:10px 0;">`,
            confirmButtonText: 'OK'
          });
        }
        
        Swal.fire({
          icon: 'success',
          title: 'Booking Submitted!',
          html: `
            <div style="text-align: center;">
              <div style="font-size: 56px; color: #25D366; margin-bottom: 20px;">
                <i class="fab fa-whatsapp"></i>
              </div>
              <p style="color: var(--text-primary); font-weight: 700; margin-bottom: 12px; font-size: 1.2rem">
                Booking submitted successfully!
              </p>
              <p style="font-size: 1rem; color: var(--text-secondary); margin-bottom: 15px;">
                Booking ID: <strong>${bookingId}</strong>
              </p>
              <p style="font-size: 1rem; color: var(--text-secondary); margin-bottom: 15px;">
                Estimated Amount: <strong>LKR ${totalCost.toLocaleString()}</strong>
              </p>
              <div style="background: rgba(59, 130, 246, 0.1); padding: 12px; border-radius: 8px; margin: 15px 0; font-size: 0.9rem;">
                <strong>Next:</strong> Complete payment and attach slip on WhatsApp
              </div>
              <div style="background: rgba(245, 158, 11, 0.1); padding: 12px; border-radius: 8px; margin: 15px 0; font-size: 0.9rem;">
                <strong>Note:</strong> Admin will assign exact seat numbers and confirm final amount
              </div>
              <p style="font-size: 0.9rem; color: var(--text-secondary);">
                 <strong>Remember:</strong> Arrive 15 minutes before departure at pickup point
              </p>
              <p style="font-size: 0.9rem; color: var(--text-secondary);">
                Our team will confirm once payment is verified
              </p>
            </div>
          `,
          timer: 5000,
          showConfirmButton: false,
          background: 'var(--card)',
          color: 'var(--text-primary)',
          backdrop: 'rgba(0, 0, 0, 0.3)'
        }).then(() => {
          switchTab('checkTab');
          const checkPhoneInput = document.getElementById('checkPhone');
          if (checkPhoneInput) {
            checkPhoneInput.value = formData.phone;
          }
        });
        
      } else {
        hideLoading();
        showToast('Failed to submit booking: ' + (data.error || 'Unknown error'), 'error');
      }
      
    } catch (error) {
      hideLoading();
      console.error('Error submitting booking:', error);
      
      showToast('Saved locally. Opening WhatsApp...', 'info');
      
      const whatsappUrl = `https://wa.me/${ADMIN_WHATSAPP_NUMBER}?text=${whatsappMessage}`;
      window.open(whatsappUrl, '_blank');
    }
  }
}

async function downloadTicket() {
  if (!currentBookingData) {
    showToast('No booking data available', 'warning');
    vibrate();
    return;
  }
  
  const btn = document.getElementById('downloadTicketBtn');
  const originalText = btn.innerHTML;
  btn.innerHTML = '<i class="fas fa-bus"></i> Generating...';
  btn.disabled = true;
  
  showLoading('Generating ticket PDF...');
  
  try {
    // Use jsPDF library (already included in your HTML)
    const { jsPDF } = window.jspdf;
    
    // Check if jsPDF is loaded
    if (!jsPDF) {
      throw new Error('PDF library not loaded. Please refresh the page.');
    }
    
    // Create PDF document
    const pdf = new jsPDF({
      orientation: 'portrait',
      unit: 'mm',
      format: 'a5' // Smaller format for tickets
    });
    
    const pageWidth = pdf.internal.pageSize.getWidth();
    const pageHeight = pdf.internal.pageSize.getHeight();
    
    // Add header with gradient background
    pdf.setFillColor(11, 31, 58); // Dark blue
    pdf.rect(0, 0, pageWidth, 20, 'F');
    
    // Add gold accent
    pdf.setFillColor(216, 179, 93); // Gold
    pdf.rect(0, 0, pageWidth, 3, 'F');
    
    // Add title
    pdf.setTextColor(255, 255, 255);
    pdf.setFontSize(20);
    pdf.setFont('helvetica', 'bold');
    pdf.text('LAGAN BUS BOOKING', pageWidth / 2, 10, { align: 'center' });
    
    pdf.setFontSize(10);
    pdf.setFont('helvetica', 'normal');
    pdf.text('Elite Travel Services', pageWidth / 2, 15, { align: 'center' });
    
    // Add ticket border
    pdf.setDrawColor(216, 179, 93);
    pdf.setLineWidth(0.5);
    pdf.rect(5, 25, pageWidth - 10, pageHeight - 35, 'S');
    
    let yPos = 35;
    
    // Passenger Details
    pdf.setFontSize(12);
    pdf.setFont('helvetica', 'bold');
    pdf.setTextColor(11, 31, 58);
    pdf.text('PASSENGER DETAILS', 10, yPos);
    
    yPos += 8;
    
    pdf.setFontSize(10);
    pdf.setFont('helvetica', 'normal');
    pdf.text(`Name: ${currentBookingData.name}`, 15, yPos);
    yPos += 6;
    pdf.text(`Booking ID: ${currentBookingData.bookingId}`, 15, yPos);
    yPos += 6;
    pdf.text(`Phone: ${currentBookingData.phone}`, 15, yPos);
    
    yPos += 10;
    
    // Travel Details
    pdf.setFontSize(12);
    pdf.setFont('helvetica', 'bold');
    pdf.text('TRAVEL DETAILS', 10, yPos);
    
    yPos += 8;
    
    pdf.setFontSize(10);
    pdf.setFont('helvetica', 'normal');
    pdf.text(`Bus: ${currentBookingData.bus}`, 15, yPos);
    yPos += 6;
    pdf.text(`Date: ${currentBookingData.date}`, 15, yPos);
    yPos += 6;
    pdf.text(`Route: ${currentBookingData.route}`, 15, yPos);
    yPos += 6;
    pdf.text(`Seats: ${currentBookingData.seatNumbers}`, 15, yPos);
    
    yPos += 10;
    
    // Payment Details
    pdf.setFontSize(12);
    pdf.setFont('helvetica', 'bold');
    pdf.text('PAYMENT DETAILS', 10, yPos);
    
    yPos += 8;
    
    pdf.setFontSize(10);
    pdf.setFont('helvetica', 'normal');
    pdf.text(`Amount: ${currentBookingData.totalAmount ? 'LKR ' + currentBookingData.totalAmount.toLocaleString() : 'N/A'}`, 15, yPos);
    yPos += 6;
    pdf.text(`Status: ${currentBookingData.paymentStatus}`, 15, yPos);
    
    yPos += 10;
    
    // Important Notes
    pdf.setFillColor(255, 248, 225); // Light gold background
    pdf.rect(10, yPos, pageWidth - 20, 40, 'F');
    
    pdf.setFontSize(11);
    pdf.setFont('helvetica', 'bold');
    pdf.setTextColor(180, 83, 9); // Dark gold
    pdf.text(' IMPORTANT NOTES:', 15, yPos + 7);
    
    yPos += 12;
    
    pdf.setFontSize(9);
    pdf.setFont('helvetica', 'normal');
    pdf.setTextColor(68, 64, 60);
    pdf.text(' Arrive 15 minutes before departure', 15, yPos);
    yPos += 5;
    pdf.text(' Show this ticket to conductor', 15, yPos);
    yPos += 5;
    pdf.text(' Seat Numbers: ' + (currentBookingData.seatNumbers || 'To be assigned'), 15, yPos);
    yPos += 5;
    pdf.text(' Keep ID proof ready for verification', 15, yPos);
    yPos += 5;
    pdf.text(' For assistance: +94701362527', 15, yPos);
    
    // Footer
    pdf.setFontSize(7);
    pdf.setTextColor(148, 163, 184);
    pdf.text('Generated: ' + new Date().toLocaleString(), pageWidth / 2, pageHeight - 15, { align: 'center' });
    pdf.text(' 2024 Lagan Bus Booking  Developed by WEDOXA', pageWidth / 2, pageHeight - 10, { align: 'center' });
    pdf.text('Safe Travels! ', pageWidth / 2, pageHeight - 5, { align: 'center' });
    
    // Save PDF
    const safeName = currentBookingData.name.replace(/[^a-zA-Z0-9]/g, '_').substring(0, 20);
    const fileName = `Lagan_Ticket_${safeName}_${currentBookingData.bookingId}.pdf`;
    
    pdf.save(fileName);
    
    showToast('Ticket downloaded successfully! ', 'success');
    vibrate('success');
    
  } catch (error) {
    console.error('PDF Generation Error:', error);
    showToast('Failed to generate PDF. Please try again.', 'error');
    vibrate();
  } finally {
    btn.innerHTML = originalText;
    btn.disabled = false;
    hideLoading();
  }
}

// ============ UTILITY FUNCTIONS ============

function showToast(message, type = 'info') {
  try {
    const toast = Swal.mixin({
      toast: true,
      position: 'top-end',
      showConfirmButton: false,
      timer: 4000,
      timerProgressBar: true,
      background: 'var(--card)',
      color: 'var(--text-primary)',
      backdrop: 'transparent',
      didOpen: (toast) => {
        toast.addEventListener('mouseenter', Swal.stopTimer);
        toast.addEventListener('mouseleave', Swal.resumeTimer);
      }
    });
    
    const icon = type === 'success' ? 'success' : 
                 type === 'error' ? 'error' : 
                 type === 'warning' ? 'warning' : 'info';
    
    toast.fire({
      icon,
      title: message
    });
  } catch (e) {
    console.error('Toast error:', e);
    alert(message);
  }
}

function vibrate(type = 'error') {
  if ('vibrate' in navigator) {
    try {
      if (type === 'success') {
        navigator.vibrate([50, 50, 50]);
      } else {
        navigator.vibrate(100);
      }
    } catch (e) {
    }
  }
}

// ============ ERROR HANDLING ============

window.addEventListener('beforeunload', () => {
  if (isLoading) {
    hideLoading();
  }
});

window.addEventListener('error', (event) => {
  console.error('Unhandled error:', event.error);
  showToast('An error occurred. Please refresh the page.', 'error');
});

window.addEventListener('unhandledrejection', (event) => {
  console.error('Unhandled promise rejection:', event.reason);
  showToast('An error occurred. Please try again.', 'error');
});

console.log(' Lagan Bus Booking System Ready');
</script>
</body>
</html>